import{p as c,q as r,c as d,b as t,a as o,n as S,t as l,k as u,F as m,h as p,v as b,d as n,o as g}from"./app-1a2bea9f.js";import{S as k,a as I,b as A,c as C}from"./backward-d9631bba.js";import{S as H}from"./stake-site-9da71c44.js";import N from"./LatestBonusBattle-3f83eec4.js";import L from"./BattleHistory-21b3e5bd.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./multiplier-5566d99d.js";import"./LatestHuntStats-92d7843a.js";import"./LatestHuntCurentNext-312c4742.js";import"./LatestHuntHighLowX-b69e42df.js";import"./LatestHuntHighLowWin-4527827b.js";import"./BattleTournament-85375a46.js";import"./LatestBattleGuess-1ed34cf0.js";import"./LatestBattleGuessers-d722a8a1.js";const T={components:{BattleHistory:L,LatestBonusBattle:N,SvgCalendar:k,SvgGame:I,SvgMoney:A,SvgBackward:C,SvgStakeSite:H},data(){return{loading:!0,streamer:{},bonusBattleHistory:[],latestBonusBattle:null,refreshInterval:null,currency:"RON",activeIndex:0,bannerSpot:[]}},props:{streamerId:{type:Number,required:!0}},async mounted(){await this.getData(),this.startAutoScroll()},methods:{async getData(){await this.getBonusBattleHistory(),await this.getSettings(),await this.getBannerAds()},async getBonusBattleHistory(){try{const s=await c.get("/api/viewer/get-bb-history/"+this.streamerId);this.bonusBattleHistory=s.data.bonusBattles,this.latestBonusBattle=this.bonusBattleHistory[0]}catch(s){console.error("Error fetching bonus hunt history:",s)}},async getSettings(){let s="obs_bonus_list";try{const e=await c.get("/api/get-setting-public",{params:{setting_name:s,user_id:this.streamerId}});e.data.setting_value&&(this.currency=JSON.parse(e.data.setting_value).currency)}catch(e){console.error(`Error loading setting "${s}":`,e)}},async getBannerAds(){try{this.loading=!0;const s=await c.get("/api/banners-ads/"+this.streamerId);s.data.bannersAds&&(this.bannerSpot=s.data.bannersAds)}catch(s){console.error(`Error loading setting "${settingName}":`,s)}finally{this.loading=!1}},async registerClick(s){try{await c.post(`/api/banner-ads/${s}/click`)}catch(e){console.error("Error registering click:",e)}},changeLatestBonusBattle(s){this.latestBonusBattle=s},convertDate(s){const e=new Date(s);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"long",year:"numeric"}).format(e)},startAutoScroll(){setInterval(()=>{this.activeIndex=(this.activeIndex+1)%3},5e3)}}},D={key:0},E={class:"flex flex-col md:flex-row justify-center items-stretch gap-4 mb-4"},M={key:0,class:"gap-2 rounded-lg backdrop-blur-xl p-4 bg-white/10 shadow-lg shadow-black/40 border border-white/20 w-full md:w-1/4 flex flex-col justify-between"},R={class:"flex flex-row justify-between items-center"},V={class:"flex flex-row items-center gap-1"},O={class:"flex flex-row justify-between items-center font-bold text-xl"},F={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},G={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},U={class:"flex flex-row items-center gap-1 text-sm"},q=["href"],P=["src","alt"],z=["href"],J=["src","alt"],K={href:"https://stake.com/?tab=register&modal=auth&c=4cb4a7ab68",target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 h-[130px] flex group bg-[url(/storage/assets/images/dog-bg.jpg)] bg-center bg-no-repeat bg-cover"},Q={class:"absolute inset-0 bg-black/40 backdrop-blur-sm opacity-100 transition-all duration-300 p-4 flex items-center justify-center"},W={class:"absolute top-0 mr-auto"},X={class:"w-full text-center relative mt-14"},Y={class:"fade-slide"},Z={class:"fade-slide"},$={class:"fade-slide"};function tt(s,e,et,st,a,i){const v=r("SvgBackward"),h=r("SvgGame"),y=r("SvgMoney"),f=r("SvgCalendar"),_=r("SvgStakeSite"),B=r("LatestBonusBattle"),x=r("BattleHistory");return a.loading?u("",!0):(g(),d("div",D,[t("div",E,[a.bonusBattleHistory.length>0?(g(),d("div",M,[t("div",R,[t("div",V,[t("div",null,[o(v,{class:"h-5 w-5 text-white stroke-current"})]),e[2]||(e[2]=t("div",null,"ULTIMUL BATTLE",-1))]),t("div",{class:S(["bg-gray-800 px-2 py-1 rounded-lg text-xs font-bold",{"text-gray-500":!a.latestBonusBattle.battle.active,"text-green-500":a.latestBonusBattle.battle.active}])},l(a.latestBonusBattle.battle.active?"ACTIV":"TERMINAT"),3)]),t("div",O,[t("div",F,[t("div",null,[o(h,{class:"h-5 w-5 text-indigo-500 fill-current"})]),t("div",null,l(a.latestBonusBattle.all_concurrents.length),1)]),t("div",G,[t("div",null,[o(y,{class:"h-5 w-5 text-green-500"})]),t("div",null,l(a.latestBonusBattle.total_cost)+" "+l(a.currency),1)])]),t("div",U,[t("div",null,[o(f,{class:"w-4 h-4 text-gray-500 stroke-current"})]),t("div",null,l(i.convertDate(a.latestBonusBattle.battle.created_at)),1)])])):u("",!0),this.bannerSpot&&this.bannerSpot.length>=2?(g(),d(m,{key:1},[t("a",{href:this.bannerSpot[0].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[0]||(e[0]=w=>i.registerClick(this.bannerSpot[0].id))},[t("img",{src:this.bannerSpot[0].image,alt:this.bannerSpot[0].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,P),e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,q),t("a",{href:this.bannerSpot[1].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[1]||(e[1]=w=>i.registerClick(this.bannerSpot[1].id))},[t("img",{src:this.bannerSpot[1].image,alt:this.bannerSpot[1].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,J),e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,z)],64)):u("",!0),t("a",K,[t("div",Q,[t("div",W,[o(_,{class:"w-20 h-20 animated-pump"})]),t("div",X,[p(t("div",Y,e[5]||(e[5]=[t("div",{class:"bg-gray-800 py-1 px-3 rounded font-bold text-lg inline-block"},"COD: MALA",-1)]),512),[[b,a.activeIndex===0]]),p(t("div",Z,e[6]||(e[6]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[n(" Rakeback activ + Bonus "),t("span",{class:"font-bold"},"SĂPTĂMÂNAL"),n(" și "),t("span",{class:"font-bold"},"LUNAR"),n(" din ce ai jucat, fără Rulaj! ")],-1)]),512),[[b,a.activeIndex===1]]),p(t("div",$,e[7]||(e[7]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[n(" Cele mai "),t("span",{class:"font-bold"},"MARE RTP"),n(),t("span",{class:"font-bold"},"98% - 99%"),n("! ")],-1)]),512),[[b,a.activeIndex===2]])])])])]),a.bonusBattleHistory.length>0?(g(),d(m,{key:0},[o(B,{battleId:a.latestBonusBattle.battle.id,currency:a.currency},null,8,["battleId","currency"]),o(x,{onSeeBattle:i.changeLatestBonusBattle,bonusBattleHistory:a.bonusBattleHistory,currency:a.currency},null,8,["onSeeBattle","bonusBattleHistory","currency"])],64)):u("",!0)]))}const ht=j(T,[["render",tt],["__scopeId","data-v-a7bb6ba9"]]);export{ht as default};
