import{q as c,c as i,b as t,a as u,w as m,T as g,o as n,h as y,L as _,F as f,E as b,t as r,k as D}from"./app-34e67cbf.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";const x={props:{stream:Object},data(){return{loading:!0,deposits:[],newDeposit:{amount:0,casino:"",stream_id:null}}},async mounted(){await this.getStreamDeposit(),this.loading=!1},methods:{async getStreamDeposit(){this.newDeposit.stream_id=this.stream.id;try{const o=await c.get("/api/deposits/"+this.stream.id);this.deposits=o.data.deposits}catch(o){console.log(o)}},async createDeposit(){this.loading=!0;try{await c.post("/api/deposits",{payload:this.newDeposit}),await this.getStreamDeposit()}catch(o){console.log(o)}finally{this.loading=!1}},formatDateLabels(o){const e=new Date(o),d=e.getDate().toString().padStart(2,"0"),p=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getFullYear();return`${d}-${p}-${a}`}}},w={class:"bg-gray-700 p-6 mb-6 rounded-lg border border-gray-700 shadow-lg"},v={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},S={class:"self-end"},k={key:0,class:"relative overflow-x-auto shadow-lg sm:rounded-lg mt-6"},C={class:"w-full text-sm text-left text-gray-300"},V={class:"p-2"},L={class:"p-2"},N={class:"p-2"},z={class:"p-2"};function B(o,e,d,p,a,l){return n(),i("div",null,[e[6]||(e[6]=t("h2",{class:"text-lg font-bold mb-4 text-gray-200"},"Depozit",-1)),u(g,{name:"fade"},{default:m(()=>[t("div",w,[t("div",v,[t("div",null,[e[3]||(e[3]=t("label",{for:"deposit",class:"block mb-2 text-sm font-medium text-gray-300"}," Depozit ",-1)),y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.newDeposit.amount=s),type:"text",id:"deposit",class:"input-primary",placeholder:"Depus Ã®n lei"},null,512),[[_,a.newDeposit.amount]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"casino",class:"block mb-2 text-sm font-medium text-gray-300"}," Pe Casino ",-1)),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.newDeposit.casino=s),type:"text",id:"casino",class:"input-primary",placeholder:"Nume Casino"},null,512),[[_,a.newDeposit.casino]])]),t("div",S,[t("button",{type:"button",onClick:e[2]||(e[2]=(...s)=>l.createDeposit&&l.createDeposit(...s)),class:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg text-sm px-5 py-2.5 transition-all duration-200 focus:outline-none"}," Depozitare ")])])])]),_:1}),u(g,{name:"fade"},{default:m(()=>[a.loading?D("",!0):(n(),i("div",k,[t("table",C,[e[5]||(e[5]=t("thead",{class:"text-xs uppercase bg-gray-700 text-gray-400"},[t("tr",null,[t("th",{class:"p-2"},"ID"),t("th",{class:"p-2"},"Suma"),t("th",{class:"p-2"},"Casino"),t("th",{class:"p-2"},"Data")])],-1)),t("tbody",null,[(n(!0),i(f,null,b(a.deposits,s=>(n(),i("tr",{key:s.id,class:"bg-gray-800 border-b border-gray-700"},[t("td",V,r(s.id),1),t("td",L,r(s.amount),1),t("td",N,r(s.casino),1),t("td",z,r(l.formatDateLabels(s.created_at)),1)]))),128))])])]))]),_:1})])}const E=h(x,[["render",B],["__scopeId","data-v-7481555e"]]);export{E as default};
