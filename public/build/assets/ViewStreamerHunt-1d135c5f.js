import{p as c,q as o,c as u,b as t,a as r,n as h,t as a,k as d,F as v,h as p,v as m,d as i,w as f,T as y,o as g}from"./app-7ddf209f.js";import{S as C,a as A,b as N,c as j}from"./backward-a318be3e.js";import{S as B}from"./stake-site-671e4767.js";import T from"./HuntHistory-ab98f96b.js";import L from"./LatestHunt-4d257b11.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./multiplier-db2b2338.js";import"./LatestHuntStats-ce4a8ed6.js";import"./LatestHuntCurentNext-47a5b317.js";import"./LatestHuntHighLowX-b0e3d7c8.js";import"./LatestHuntHighLowWin-cf554ff7.js";import"./LatestHuntGuess-46d12a92.js";import"./LatestHuntGuessers-5b2f9515.js";const M={components:{LatestHunt:L,HuntHistory:T,SvgCalendar:C,SvgGame:A,SvgMoney:N,SvgBackward:j,SvgStakeSite:B},data(){return{loading:!0,streamer:{},bonusHuntHistory:[],latestHunt:null,refreshInterval:null,currency:"RON",activeIndex:0,bannerSpot:[]}},props:{streamerId:{type:Number,required:!0}},async mounted(){await this.getData(),this.startAutoScroll()},methods:{async getData(){await this.getBonusHuntHistory(),await this.getSettings(),await this.getBannerAds()},async getBonusHuntHistory(){try{const n=await c.get("/api/viewer/get-bh-history/"+this.streamerId);this.bonusHuntHistory=n.data.bonusHunts,this.latestHunt=this.bonusHuntHistory[0]}catch(n){console.error("Error fetching bonus hunt history:",n)}},async getSettings(){let n="obs_bonus_list";try{const e=await c.get("/api/get-setting-public",{params:{setting_name:n,user_id:this.streamerId}});e.data.setting_value&&(this.currency=JSON.parse(e.data.setting_value).currency)}catch(e){console.error(`Error loading setting "${n}":`,e)}},async getBannerAds(){try{this.loading=!0;const n=await c.get("/api/banners-ads/"+this.streamerId);n.data.bannersAds&&(this.bannerSpot=n.data.bannersAds)}catch(n){console.error(`Error loading setting "${settingName}":`,n)}finally{this.loading=!1}},async registerClick(n){try{await c.post(`/api/banner-ads/${n}/click`)}catch(e){console.error("Error registering click:",e)}},changeLatestHunt(n){this.latestHunt=n},convertDate(n){const e=new Date(n);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"short",year:"numeric"}).format(e)},startAutoScroll(){setInterval(()=>{this.activeIndex=(this.activeIndex+1)%3},5e3)}}},R={key:0},E={class:"flex flex-col md:flex-row justify-center items-stretch gap-4 mb-4"},F={key:0,class:"gap-2 rounded-lg backdrop-blur-xl p-4 bg-white/10 shadow-lg shadow-black/40 border border-white/20 w-full md:w-1/4 flex flex-col justify-between"},V={class:"flex flex-row justify-between items-center"},O={class:"flex flex-row items-center gap-1"},U={class:"flex flex-row justify-between items-center font-bold text-xl"},G={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},q={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},P={class:"flex flex-row items-center justify-between gap-1 text-sm"},z={class:"flex flex-row items-center gap-1"},J=["href"],K=["src","alt"],Q=["href"],W=["src","alt"],X={href:"https://stake.com/?tab=register&modal=auth&c=4cb4a7ab68",target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 h-[130px] flex group bg-[url(/storage/assets/images/dog-bg.jpg)] bg-center bg-no-repeat bg-cover"},Y={class:"absolute inset-0 bg-black/40 backdrop-blur-sm opacity-100 transition-all duration-300 p-4 flex items-center justify-center"},Z={class:"absolute top-0 mr-auto"},$={class:"w-full text-center relative mt-14"},tt={class:"fade-slide"},et={class:"fade-slide"},st={class:"fade-slide"};function nt(n,e,rt,ot,s,l){const _=o("SvgBackward"),x=o("SvgGame"),b=o("SvgMoney"),w=o("SvgCalendar"),H=o("SvgStakeSite"),S=o("LatestHunt"),k=o("HuntHistory");return s.loading?d("",!0):(g(),u("div",R,[t("div",E,[s.bonusHuntHistory.length>0?(g(),u("div",F,[t("div",V,[t("div",O,[t("div",null,[r(_,{class:"h-5 w-5 text-white stroke-current"})]),e[2]||(e[2]=t("div",null,"ULTIMUL HUNT",-1))]),t("div",{class:h(["bg-gray-800 px-2 py-1 rounded-lg text-xs font-bold",{"text-gray-500":s.latestHunt.ended,"text-green-500":!s.latestHunt.ended}])},a(s.latestHunt.ended?"TERMINAT":"ACTIV"),3)]),t("div",U,[t("div",G,[t("div",null,[r(x,{class:"h-5 w-5 text-indigo-500 fill-current"})]),t("div",null,a(s.latestHunt.bonus_hunt_games.length),1)]),t("div",q,[t("div",null,[r(b,{class:"h-5 w-5 text-green-500"})]),t("div",null,a(s.latestHunt.start)+" "+a(s.currency),1)])]),t("div",P,[t("div",z,[t("div",null,[r(w,{class:"w-4 h-4 text-gray-500 stroke-current"})]),t("div",null,a(l.convertDate(s.latestHunt.created_at)),1)]),t("div",{class:h(["flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded",{"text-green-500":parseFloat(s.latestHunt.result)>=parseFloat(s.latestHunt.start),"text-red-500":parseFloat(s.latestHunt.result)<=parseFloat(s.latestHunt.start)}])},[t("div",null,[r(b,{class:"h-4 w-4"})]),t("div",null,a(s.latestHunt.result)+" "+a(s.currency),1)],2)])])):d("",!0),this.bannerSpot.length>=2?(g(),u(v,{key:1},[t("a",{href:this.bannerSpot[0].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[0]||(e[0]=I=>l.registerClick(this.bannerSpot[0].id))},[t("img",{src:this.bannerSpot[0].image,alt:this.bannerSpot[0].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,K),e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,J),t("a",{href:this.bannerSpot[1].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[1]||(e[1]=I=>l.registerClick(this.bannerSpot[1].id))},[t("img",{src:this.bannerSpot[1].image,alt:this.bannerSpot[1].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,W),e[4]||(e[4]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,Q)],64)):d("",!0),t("a",X,[t("div",Y,[t("div",Z,[r(H,{class:"w-20 h-20 animated-pump"})]),t("div",$,[p(t("div",tt,e[5]||(e[5]=[t("div",{class:"bg-gray-800 py-1 px-3 rounded font-bold text-lg inline-block"},"COD: MALA",-1)]),512),[[m,s.activeIndex===0]]),p(t("div",et,e[6]||(e[6]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Rakeback activ + Bonus "),t("span",{class:"font-bold"},"SĂPTĂMÂNAL"),i(" și "),t("span",{class:"font-bold"},"LUNAR"),i(" din ce ai jucat, fără Rulaj! ")],-1)]),512),[[m,s.activeIndex===1]]),p(t("div",st,e[7]||(e[7]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Cele mai "),t("span",{class:"font-bold"},"MARE RTP"),i(),t("span",{class:"font-bold"},"98% - 99%"),i("! ")],-1)]),512),[[m,s.activeIndex===2]])])])])]),s.bonusHuntHistory.length>0?(g(),u(v,{key:0},[r(y,{name:"fade",mode:"out-in"},{default:f(()=>[r(S,{huntId:s.latestHunt.id,currency:s.currency},null,8,["huntId","currency"])]),_:1}),r(y,{name:"fade",mode:"out-in"},{default:f(()=>[r(k,{onSeeHunt:l.changeLatestHunt,bonusHuntHistory:s.bonusHuntHistory,currency:s.currency},null,8,["onSeeHunt","bonusHuntHistory","currency"])]),_:1})],64)):d("",!0)]))}const yt=D(M,[["render",nt],["__scopeId","data-v-b53d12a9"]]);export{yt as default};
