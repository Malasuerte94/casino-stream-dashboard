import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{c as s,b as a,F as d,s as c,k as g,o as i,t as o,n as u}from"./app-0bb66b02.js";const h={props:["id"],data(){return{loading:!0,allViewers:[],allSettings:{}}},computed:{winners(){return this.allViewers.filter(t=>t.picked&&!t.eliminated)}},async mounted(){await this.updateList(),this.loading=!1,window.Echo.channel(`App.Models.User.${this.id}`).listen("BattleViewerUpdated",async()=>{await this.updateList()}).listen("SettingsUpdated",async()=>{await this.updateList()})},methods:{async getList(){try{const t=await axios.get(`/api/battle-viewers-public/${this.id}`);t.data&&(this.allViewers=t.data),console.log(this.allViewers)}catch(t){console.log(t)}},async getSettings(){await axios.get("/api/settings/"+this.id).then(t=>{this.allSettings=t.data.settings}).catch(t=>{console.log(t)})},async updateList(){await this.getList(),await this.getSettings()}}},x={key:0,class:"p-4 text-center"},_={key:0,class:"mb-6 flex flex-col items-center"},m={class:"flex justify-center flex-wrap gap-4"},f={class:"text-xl font-bold"},y={class:"text-sm"},w={class:"flex flex-wrap gap-1 justify-center"},b={key:1,class:"p-4"};function k(t,l,B,V,n,r){return!n.loading&&n.allSettings.battle_selections==1?(i(),s("div",x,[r.winners.length?(i(),s("div",_,[l[0]||(l[0]=a("h2",{class:"text-3xl font-extrabold text-yellow-400 uppercase mb-2"},"Câștigători",-1)),a("div",m,[(i(!0),s(d,null,c(r.winners,e=>(i(),s("div",{key:e.id,class:"px-4 py-2 bg-yellow-600 text-white rounded-lg shadow-xl transform transition-all hover:scale-105"},[a("p",f,o(e.user),1),a("p",y,o(e.game),1)]))),128))])])):g("",!0),a("div",null,[l[1]||(l[1]=a("h2",{class:"text-xl font-bold text-white bg-gray-800 rounded mb-3 p-2"},"Participanți",-1)),a("div",w,[(i(!0),s(d,null,c(n.allViewers,e=>(i(),s("div",{key:e.id,class:u(["px-2 py-1 rounded shadow-md bg-gray-800 text-white text-sm",{"bg-green-400 font-bold":e.picked&&!e.eliminated,"bg-red-500 font-bold":e.eliminated}])},o(e.user),3))),128))])])])):(i(),s("div",b))}const S=p(h,[["render",k]]);export{S as default};
