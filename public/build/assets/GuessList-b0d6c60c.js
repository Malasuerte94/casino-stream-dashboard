import{_ as k}from"./ViewerDash-b6b98bec.js";import{_ as I}from"./TextInput-83392ab4.js";import{_ as B}from"./InputLabel-d95745c0.js";import{_ as E}from"./PrimaryButton-3de36c59.js";import{a as D}from"./DialogModal-aab0fa35.js";import{E as m,i as n,c as V,w as o,o as r,a as s,b as d,g as i,n as C,t as e,e as u,h as f,F as h}from"./app-cff6ef40.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-25006812.js";const R={components:{ViewerDash:k,TextInput:I,InputLabel:B,PrimaryButton:E,DialogModal:D},data(){return{message:"",show:!1,estimated:"0",alreadyEstimated:!1,entries:[]}},props:{list:Object,games:Object,type:String,is_open:Boolean},async mounted(){await this.getEntries(),this.startRefreshing()},beforeDestroy(){this.stopRefreshing()},methods:{async addEntry(){await m.post("/api/add-entry",{estimated_result:this.estimated,bonus_id:this.list.id,bonus_type:this.type}).then(l=>{this.message=l}).catch(l=>{this.message=l})},async getEntries(){await m.get("/api/show-entries/"+this.list.id+"/"+this.type).then(l=>{this.entries=l.data})},startRefreshing(){this.refreshInterval=setInterval(()=>{this.getEntries()},1e4)},stopRefreshing(){clearInterval(this.refreshInterval)}},computed:{bonusList(){return this.list.data}},watch:{message(){this.show=!0}}},N={class:"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"flex lg:flex-row flex-col gap-2"},M={class:"lg:w-1/3 w-full mx-auto sm:px-2 lg:px-2"},P={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},T={class:"p-6"},O={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},S={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},j={class:"p-6"},F=s("div",{class:"mb-2"},"Despre Lista",-1),G={class:"font-bold text-red-800 mr-4"},X={class:"font-bold text-green-800 mr-4"},q={class:"p-6"},U=s("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Miză"),s("span",null,"Rezultat"),s("span",null,"Multi")],-1),A={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},H={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},J={class:"p-6"},K=s("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr_1fr] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Rezultat"),s("span",null,"Big X"),s("span",null,"Small X"),s("span",null,"Game")],-1),Q={class:"flex items-center gap-2"},W=["src"];function Y(l,c,_,Z,a,g){const x=n("InputLabel"),w=n("TextInput"),p=n("PrimaryButton"),b=n("DialogModal"),v=n("ViewerDash");return r(),V(v,{title:"Bonuses"},{default:o(()=>[s("div",N,[s("div",z,[s("div",M,[s("div",P,[s("div",T,[d(x,{for:"estimated",value:"Introdu valoarea estimată (câștigul total pentru bonus list)"}),d(w,{id:"estimated",modelValue:a.estimated,"onUpdate:modelValue":c[0]||(c[0]=t=>a.estimated=t),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),d(p,{onClick:g.addEntry,class:C(["mt-2",{"opacity-25":a.alreadyEstimated}]),disabled:a.alreadyEstimated||!_.is_open},{default:o(()=>[i(" Patricipă ")]),_:1},8,["onClick","class","disabled"])])])]),s("div",O,[s("div",S,[s("div",j,[F,s("span",G,"Cost: "+e(_.list.start??0),1),s("span",X,"Rezultat: "+e(_.list.result??0),1)]),s("div",q,[U,(r(!0),u(h,null,f(_.games,(t,y)=>(r(),u("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2",key:"a-"+t.id},[s("span",null,e(t.id),1),s("span",null,e(t.name),1),s("span",null,e(t.stake),1),s("span",null,e(t.result),1),s("span",null,e(t.multiplier),1)]))),128))])])]),s("div",A,[s("div",H,[s("div",J,[i(" Participanți "),K,(r(!0),u(h,null,f(a.entries,(t,y)=>(r(),u("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr_1fr] gap-2",key:"a-"+t.id},[s("span",null,e(t.id),1),s("span",Q,[s("img",{class:"avatar-entry",src:t.avatar,alt:""},null,8,W),i(e(t.user),1)]),s("span",null,e(t.result),1),s("span",null,e(t.biggest_multi??"-"),1),s("span",null,e(t.lowest_multi??"-"),1),s("span",null,e(t.game_winner??"-"),1)]))),128))])])])])]),d(b,{show:a.show},{title:o(()=>[i(" Notificare ")]),content:o(()=>[i(e(a.message.data),1)]),footer:o(()=>[d(p,{onClick:c[1]||(c[1]=t=>a.show=!a.show)},{default:o(()=>[i(" Ok ")]),_:1})]),_:1},8,["show"])]),_:1})}const ns=L(R,[["render",Y]]);export{ns as default};
