import{q as l,c,b as s,t as n,F as p,o as u}from"./app-c9e312fd.js";import{C as d}from"./auto-5842a5d9.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";const m={components:{Chart:d},data(){return{deposits:[],withdrawals:[],chartData:[]}},async mounted(){await this.getDeposits(),await this.getWithdrawals();let t=this;new d(document.getElementById("activity"),{type:"line",data:{labels:t.deposits.map(a=>t.formatDateLabels(a.created_at)),datasets:[{label:"Depuneri",data:t.deposits.map(a=>a.amount),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1},{label:"Retrageri",data:t.withdrawals.map(a=>a.amount),fill:!1,borderColor:"rgb(180, 20, 55)",tension:.1}]},options:{plugins:{legend:{display:!0,labels:{useBorderRadius:!0,borderRadius:.5,boxWidth:8,boxHeight:2}}}}})},methods:{async getDeposits(){await l.get("/api/deposits").then(t=>{this.deposits=t.data.deposits}).catch(t=>{console.log(t)})},async getWithdrawals(){await l.get("/api/withdrawals").then(t=>{this.withdrawals=t.data.withdrawals}).catch(t=>{console.log(t)})},formatDateLabels(t){const a=new Date(t),e=a.getDate().toString().padStart(2,"0"),o=(a.getMonth()+1).toString().padStart(2,"0"),r=a.getFullYear();return`${e}-${o}-${r}`}},computed:{totalDeposits(){return this.deposits.reduce((t,a)=>{const e=parseFloat(a.amount);return isNaN(e)?(console.warn(`Invalid deposit value detected: ${a.amount}`),t):t+e},0)},totalWithdrawals(){return this.withdrawals.reduce((t,a)=>{const e=parseFloat(a.amount);return isNaN(e)?(console.warn(`Invalid withdrawal value detected: ${a.amount}`),t):t+e},0)}}},w={class:"totals p-6"};function g(t,a,e,o,r,i){return u(),c(p,null,[a[0]||(a[0]=s("div",{class:"chart"},[s("canvas",{id:"activity"})],-1)),s("div",w,[s("div",null,"Total Depozit: "+n(i.totalDeposits)+" lei",1),s("div",null,"Total Retrageri: "+n(i.totalWithdrawals)+" lei",1)])],64)}const D=h(m,[["render",g]]);export{D as default};
