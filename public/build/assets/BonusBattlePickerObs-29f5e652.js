import p from"./BonusBattlePickerUsersGlobe-eab47287.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";import{s as g,c as i,b as t,F as h,C as _,k as r,f as x,o as s,t as c}from"./app-f5bc9cf2.js";const m={components:{BonusBattlePickerUsersGlobe:p},props:["id"],data(){return{loading:!0,allViewers:[],allSettings:{}}},computed:{winners(){return this.allViewers.filter(e=>e.picked&&!e.eliminated)}},async mounted(){await this.updateList(),this.loading=!1,window.Echo.channel(`App.Models.User.${this.id}`).listen("BattleViewerUpdated",async()=>{await this.updateList()}).listen("SettingsUpdated",async()=>{await this.updateList()})},methods:{async getList(){try{const e=await axios.get(`/api/battle-viewers-public/${this.id}`);e.data&&(this.allViewers=e.data)}catch(e){console.log(e)}},async getSettings(){await axios.get("/api/settings/"+this.id).then(e=>{this.allSettings=e.data.settings}).catch(e=>{console.log(e)})},async updateList(){await this.getList(),await this.getSettings()}}},w={key:0,class:"p-4 text-center"},f={key:0,class:"mb-6 flex flex-col items-center"},y={class:"flex justify-center flex-wrap gap-4"},b={class:"text-sm font-bold"},k={class:"text-xs"},B={class:"flex flex-col items-center"},v={key:1,class:"p-4"};function V(e,a,L,S,l,n){const d=g("BonusBattlePickerUsersGlobe");return!l.loading&&l.allSettings.battle_selections==1?(s(),i("div",w,[n.winners.length?(s(),i("div",f,[a[0]||(a[0]=t("h2",{class:"text-2xl font-extrabold text-yellow-400 uppercase mb-2"},"Câștigători",-1)),t("div",y,[(s(!0),i(h,null,_(n.winners,o=>(s(),i("div",{key:o.id,class:"px-2 py-1 bg-yellow-600 text-white rounded-lg shadow-xl transform transition-all hover:scale-105"},[t("p",b,c(o.user),1),t("p",k,c(o.game),1)]))),128))])])):r("",!0),t("div",B,[a[1]||(a[1]=t("h2",{class:"rounded bg-yellow-400 text-white text-xl font-extrabold px-4 py-2 mb-2"}," !particip jocul ",-1)),l.allViewers.length?(s(),x(d,{key:0,allViewers:l.allViewers},null,8,["allViewers"])):r("",!0)])])):(s(),i("div",v))}const G=u(m,[["render",V]]);export{G as default};
