import{S as p}from"./SvgBh-5f00d3c3.js";import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{e as t,a as r,F as u,h,f as m,o as s,n as y,t as g,S as f,U as w}from"./app-547f1a99.js";const b={components:{SvgBh:p},props:["id"],data(){return{loading:!0,weeklySchedules:[],groupedDays:[]}},async mounted(){await this.fetchWeeklySchedules(),this.loading=!1,this.groupDaysIntoRows()},methods:{async fetchWeeklySchedules(){try{const e=await axios.get(`/api/schedule/weekly/${this.id}`);this.weeklySchedules=e.data}catch(e){console.error("Error fetching weekly schedules:",e)}},formatDayName(e){const l=["Duminică","Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă"],a=new Date(e).getDay();return l[a]},isCurrentDay(e){const l=new Date().toISOString().split("T")[0];return e===l},groupDaysIntoRows(){const e=this.weeklySchedules.flatMap(a=>a.days),l=[];for(let a=0;a<e.length;a+=4)l.push(e.slice(a,a+4));this.groupedDays=l}}},k=e=>(f("data-v-02a6a105"),e=e(),w(),e),x={key:0,class:"schedule-weekly-container flex gap-6 bg-transparent p-4 rounded-lg shadow-lg"},D={class:"weekly-table w-1/2"},S={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},v=k(()=>r("h3",{class:"text-md font-semibold text-gray-200"},"Program",-1)),C={class:"mt-4 space-y-2"},I={class:"text-lg font-bold"},F={class:"text-lg"},N={key:1,class:"text-gray-400"},V={class:"program-table w-1/2"},B={class:"w-full text-sm text-gray-200 border-collapse"},M={class:"font-bold text-lg mb-1"},E={class:"text-sm"};function L(e,l,a,R,n,c){return n.loading?m("",!0):(s(),t("div",x,[r("div",D,[n.weeklySchedules.length?(s(),t("div",S,[(s(!0),t(u,null,h(n.weeklySchedules,i=>(s(),t("div",{key:i.id,class:"schedule-card bg-gray-900 p-4 rounded-lg shadow-md border border-gray-700"},[v,r("ul",C,[(s(!0),t(u,null,h(i.days,o=>(s(),t("li",{key:o.id,class:y(["flex justify-between items-center p-2 rounded shadow-sm border border-gray-600",{"bg-[#FFC400] text-gray-900":c.isCurrentDay(o.date),"opacity-50 line-through text-white":!o.active,"bg-gray-800":!c.isCurrentDay(o.date)}])},[r("span",I,g(c.formatDayName(o.date)),1),r("span",F,g(o.info),1)],2))),128))])]))),128))])):(s(),t("p",N,"No schedules for this week."))]),r("div",V,[r("table",B,[r("tbody",null,[(s(!0),t(u,null,h(n.groupedDays,(i,o)=>(s(),t("tr",{key:o},[(s(!0),t(u,null,h(i,d=>(s(),t("td",{key:d.id,class:"p-1 border border-transparent"},[r("div",{class:y([{"bg-[#FFC400] text-gray-900":c.isCurrentDay(d.date),"bg-gray-800 opacity-75 line-through":!d.active,"bg-gray-900":d.active&&!c.isCurrentDay(d.date)},"p-2 rounded-lg shadow-md text-left"])},[r("div",M,g(c.formatDayName(d.date)),1),r("div",E,g(d.info),1)],2)]))),128))]))),128))])])])]))}const J=_(b,[["render",L],["__scopeId","data-v-02a6a105"]]);export{J as default};
