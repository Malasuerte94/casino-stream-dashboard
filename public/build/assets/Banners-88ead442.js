import{_ as x}from"./AppLayout-e77db889.js";import{q as d,o as r,c as o,b as e,h as u,y as c,F as g,s as m,t as i,k as h,f as y,w as f,a as w}from"./app-58420b30.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-cdd7f8f5.js";const v={data(){return{loading:!0,banner:{file:null,name:""},banners:[],bannerAd:{file:null,name:"",url:""},bannerAds:[]}},async mounted(){await this.getBanners(),await this.getBannerAds(),this.loading=!1},methods:{async getBanners(){await d.get("/api/banner").then(n=>{this.banners=n.data.banners}).catch(n=>{console.log(n)})},async getBannerAds(){await d.get("/api/banner-ads").then(n=>{this.bannerAds=n.data.bannerAds}).catch(n=>{console.log(n)})},async uploadBanner(){this.loading=!0;let n=new FormData;n.append("name",this.banner.name),n.append("image",this.banner.file),await d.post("/api/banner",n,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.getBanners()}).catch(t=>{console.log(t)}),this.loading=!1},async uploadBannerAd(){this.loading=!0;let n=new FormData;n.append("name",this.bannerAd.name),n.append("image",this.bannerAd.file),n.append("url",this.bannerAd.url),await d.post("/api/banner-ads",n,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.getBannerAds()}).catch(t=>{console.log(t)}),this.loading=!1},async removeBanner(n){this.loading=!0,await d.delete(`/api/banner/${n}`).catch(t=>{console.log(t)}),await this.getBanners(),this.loading=!1},async removeBannerAd(n){this.loading=!0,await d.delete(`/api/banner-ads/${n}`).catch(t=>{console.log(t)}),await this.getBannerAds(),this.loading=!1},handleFileUpload(n,t){this[n].file=t.target.files[0]}}},k={class:"p-6"},A={class:"flex flex-wrap gap-2 items-center"},C={key:0,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-6"},D={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},U={class:"p-2"},F={class:"p-2"},N={class:"p-2"},I=["src"],V={class:"p-2"},L=["onClick"],S={class:"flex flex-wrap gap-2 items-center"},T={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-6"},R={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},q={class:"p-2"},E={class:"p-2"},M={class:"p-2"},j=["src"],z={class:"p-2"},G=["href"],H={class:"p-2 text-center"},J={class:"p-2"},K=["onClick"];function O(n,t,b,Y,s,l){return r(),o("div",k,[t[9]||(t[9]=e("h2",{class:"text-xl font-bold mb-4"},"Bannere",-1)),e("div",A,[e("input",{type:"file",onChange:t[0]||(t[0]=a=>l.handleFileUpload("banner",a)),class:"input-primary"},null,32),u(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>s.banner.name=a),class:"input-primary",placeholder:"Nume banner"},null,512),[[c,s.banner.name]]),e("button",{onClick:t[2]||(t[2]=(...a)=>l.uploadBanner&&l.uploadBanner(...a)),type:"button",class:"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm px-5 py-2.5"}," Adauga ")]),s.banners.length>0?(r(),o("div",C,[e("table",D,[t[7]||(t[7]=e("thead",{class:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"p-2"},"ID"),e("th",{class:"p-2"},"Nume"),e("th",{class:"p-2"},"Imagine"),e("th",{class:"p-2"})])],-1)),e("tbody",null,[(r(!0),o(g,null,m(s.banners,(a,p)=>(r(),o("tr",{key:a.id+p,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("td",U,i(a.id),1),e("td",F,i(a.name),1),e("td",N,[e("img",{src:a.image,class:"banner-image h-[130px] w-auto",alt:"Banner Image"},null,8,I)]),e("td",V,[e("button",{onClick:_=>l.removeBanner(a.id),class:"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm p-2.5"}," 🗑️ ",8,L)])]))),128))])])])):h("",!0),t[10]||(t[10]=e("h2",{class:"text-xl font-bold mt-8 mb-4"},"Banner Ads",-1)),e("div",S,[e("input",{type:"file",onChange:t[3]||(t[3]=a=>l.handleFileUpload("bannerAd",a)),class:"input-primary"},null,32),u(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>s.bannerAd.name=a),class:"input-primary",placeholder:"Nume banner ad"},null,512),[[c,s.bannerAd.name]]),u(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>s.bannerAd.url=a),class:"input-primary",placeholder:"URL"},null,512),[[c,s.bannerAd.url]]),e("button",{onClick:t[6]||(t[6]=(...a)=>l.uploadBannerAd&&l.uploadBannerAd(...a)),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-5 py-2.5"}," Adauga Ad ")]),s.bannerAds.length>0?(r(),o("div",T,[e("table",R,[t[8]||(t[8]=e("thead",{class:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"p-2"},"ID"),e("th",{class:"p-2"},"Nume"),e("th",{class:"p-2"},"Imagine"),e("th",{class:"p-2"},"URL"),e("th",{class:"p-2"},"Clickuri"),e("th",{class:"p-2"})])],-1)),e("tbody",null,[(r(!0),o(g,null,m(s.bannerAds,(a,p)=>(r(),o("tr",{key:a.id+p,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("td",q,i(a.id),1),e("td",E,i(a.name),1),e("td",M,[e("img",{src:a.image,class:"banner-image h-[130px] w-auto",alt:"Banner Image"},null,8,j)]),e("td",z,[e("a",{href:a.url,target:"_blank",class:"text-blue-500 hover:underline"},i(a.url),9,G)]),e("td",H,i(a.clicks),1),e("td",J,[e("button",{onClick:_=>l.removeBannerAd(a.id),class:"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm p-2.5"}," 🗑️ ",8,K)])]))),128))])])])):h("",!0)])}const P=B(v,[["render",O]]),Q={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-gray-500 overflow-hidden shadow-xl sm:rounded-lg"},ae={__name:"Banners",setup(n){return(t,b)=>(r(),y(x,{title:"Dashboard"},{default:f(()=>[e("div",Q,[e("div",W,[e("div",X,[w(P)])])])]),_:1}))}};export{ae as default};
