import{_ as m}from"./AppLayout-ec71c6f4.js";import{D as a,o as c,e as i,a as t,j as h,k as l,S as _,E as g,t as d,F as p,h as f,c as w,w as b,b as v}from"./app-b6571003.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-4a53358f.js";const x={data(){return{loading:!0,streamAccounts:[],newAccount:{type:"youtube",url:""}}},async mounted(){await this.getStreamAccounts(),this.loading=!1},methods:{async getStreamAccounts(){try{const o=await a.get("/api/stream-accounts");this.streamAccounts=o.data.streamAccounts}catch(o){console.error(o)}},async createNewStreamAccount(){this.loading=!0;try{await a.post("/api/stream-accounts/new",this.newAccount),await this.getStreamAccounts(),this.newAccount.url=""}catch(o){console.error(o)}finally{this.loading=!1}},async deleteStreamAccount(o){if(confirm("Are you sure you want to delete this stream account?")){this.loading=!0;try{await a.delete(`/api/stream-accounts/${o}`),await this.getStreamAccounts()}catch(s){console.error(s)}finally{this.loading=!1}}}}},A={class:"p-6"},k={class:"mb-8 bg-white rounded-lg shadow p-6"},S=t("h2",{class:"text-lg font-semibold mb-4"},"Add New Stream Account",-1),N={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Platform",-1),M=t("option",{value:"youtube"},"YouTube",-1),B=t("option",{value:"kick"},"Kick",-1),z=t("option",{value:"facebook"},"Facebook",-1),C=t("option",{value:"twitch"},"Twitch",-1),D=[M,B,z,C],j=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Stream URL",-1),F={class:"flex justify-end"},L=["disabled"],T={class:"bg-white rounded-lg shadow p-6"},U=t("h2",{class:"text-lg font-semibold mb-4"},"Your Stream Accounts",-1),q={key:0,class:"text-center py-4"},E=t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"},null,-1),H=[E],Y={key:1,class:"text-center py-4 text-gray-500"},K={key:2,class:"space-y-4"},P={class:"font-medium capitalize"},R=["href"],G=["onClick"],I=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),J=[I];function O(o,s,u,tt,n,r){return c(),i("div",A,[t("div",k,[S,t("form",{onSubmit:s[2]||(s[2]=h((...e)=>r.createNewStreamAccount&&r.createNewStreamAccount(...e),["prevent"])),class:"space-y-4"},[t("div",N,[t("div",null,[V,l(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.newAccount.type=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},D,512),[[_,n.newAccount.type]])]),t("div",null,[j,l(t("input",{type:"url","onUpdate:modelValue":s[1]||(s[1]=e=>n.newAccount.url=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:"",placeholder:"https://"},null,512),[[g,n.newAccount.url]])])]),t("div",F,[t("button",{type:"submit",class:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:n.loading},d(n.loading?"Adding...":"Add Stream Account"),9,L)])],32)]),t("div",T,[U,n.loading?(c(),i("div",q,H)):n.streamAccounts.length===0?(c(),i("div",Y," No stream accounts added yet. ")):(c(),i("div",K,[(c(!0),i(p,null,f(n.streamAccounts,e=>(c(),i("div",{key:e.id,class:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50"},[t("div",null,[t("span",P,d(e.type),1),t("a",{href:e.url,target:"_blank",class:"text-indigo-600 ml-2 hover:underline"},d(e.url),9,R)]),t("button",{onClick:et=>r.deleteStreamAccount(e.id),class:"text-red-600 hover:text-red-800 focus:outline-none"},J,8,G)]))),128))]))])])}const Q=y(x,[["render",O]]),W={class:"py-2"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},$=t("div",{class:"mb-12"},null,-1),it={__name:"StreamAccounts",setup(o){return(s,u)=>(c(),w(m,{title:"Dashboard"},{default:b(()=>[t("div",W,[t("div",X,[t("div",Z,[v(Q),$])])])]),_:1}))}};export{it as default};
