import{_ as k}from"./ViewerDash-c97458cc.js";import{_ as V}from"./TextInput-18958ef2.js";import{_ as D}from"./InputLabel-9f905abc.js";import{_ as B}from"./PrimaryButton-d8d0e578.js";import{a as C}from"./DialogModal-e4943f7b.js";import{D as b,N as u,c as I,w as m,o as a,a as s,b as o,k as E,S as L,e as d,h as g,t as i,F as f,n as N,g as c}from"./app-7a9d0fd4.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-abc9cae5.js";const z={components:{ViewerDash:k,TextInput:V,InputLabel:D,PrimaryButton:B,DialogModal:C},data(){return{message:"",show:!1,estimated:"0",biggest_multi:"0",lowest_multi:"0",game_winner:"",entries:[]}},props:{list:Object,games:Object,type:String,is_open:Boolean},async mounted(){await this.getEntries(),this.startRefreshing()},beforeDestroy(){this.stopRefreshing()},methods:{async addEntry(){await b.post("/api/add-entry",{estimated_result:this.estimated,game_winner:this.game_winner,lowest_multi:this.lowest_multi,biggest_multi:this.biggest_multi,bonus_id:this.list.id,bonus_type:this.type}).then(n=>{this.message=n}).catch(n=>{this.message=n})},async getEntries(){await b.get("/api/show-entries/"+this.list.id+"/"+this.type).then(n=>{this.entries=n.data})},startRefreshing(){this.refreshInterval=setInterval(()=>{this.getEntries()},1e4)},stopRefreshing(){clearInterval(this.refreshInterval)}},computed:{bonusList(){return this.list.data}},watch:{message(){this.show=!0}}},M={class:"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"flex lg:flex-row flex-col gap-2"},S={class:"lg:w-1/3 w-full mx-auto sm:px-2 lg:px-2"},T={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},U={class:"p-6"},j={class:"mb-2"},q={class:"mb-4"},O={class:"mb-4"},F={class:"mb-4"},X=["value"],G=["disabled"],A={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},H={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},J={class:"p-6"},K=s("div",{class:"mb-2"},"Despre Lista",-1),Q={class:"font-bold text-red-800 mr-4"},W={class:"font-bold text-green-800 mr-4"},Y={class:"p-6"},Z=s("div",{class:"grid grid-cols-[20px_1fr_30px] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Miză")],-1),$={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},ss={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},es={class:"p-6"},ts=s("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Rezultat"),s("span",null,"Big X"),s("span",null,"Small X")],-1),ls={class:"flex items-center gap-2"},is=["src"];function os(n,l,r,as,t,h){const _=u("InputLabel"),p=u("TextInput"),w=u("PrimaryButton"),x=u("DialogModal"),v=u("ViewerDash");return a(),I(v,{title:"Bonuses"},{default:m(()=>[s("div",M,[s("div",P,[s("div",S,[s("div",T,[s("div",U,[s("div",j,[o(_,{for:"estimated",value:"Cât plătește lista?"}),o(p,{id:"estimated",modelValue:t.estimated,"onUpdate:modelValue":l[0]||(l[0]=e=>t.estimated=e),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",q,[o(_,{for:"lowest-multi",value:"Cel mai mic multiplicator?"}),o(p,{id:"estimated",modelValue:t.lowest_multi,"onUpdate:modelValue":l[1]||(l[1]=e=>t.lowest_multi=e),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",O,[o(_,{for:"biggest-multi",value:"Cel mai mare multiplicator?"}),o(p,{id:"biggest-multi",modelValue:t.biggest_multi,"onUpdate:modelValue":l[2]||(l[2]=e=>t.biggest_multi=e),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",F,[o(_,{for:"game-winner",value:"Care joc crezi că plătește cel mai mult (x)?"}),E(s("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>t.game_winner=e),id:"game-winner",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(a(!0),d(f,null,g(r.games,e=>(a(),d("option",{key:e.id,value:e.id},i(e.name),9,X))),128))],512),[[L,t.game_winner]])]),s("button",{onClick:l[4]||(l[4]=(...e)=>h.addEntry&&h.addEntry(...e)),class:N(["mt-2 w-full btn-primary",{"opacity-25":!r.is_open}]),disabled:!r.is_open}," Participă ",10,G)])])]),s("div",A,[s("div",H,[s("div",J,[K,s("span",Q,"Cost: "+i(r.list.start??0),1),s("span",W,"Rezultat: "+i(r.list.result??0),1)]),s("div",Y,[Z,(a(!0),d(f,null,g(r.games,(e,y)=>(a(),d("div",{class:"grid grid-cols-[20px_1fr_30px] gap-2 border-solid border-b-[1px]",key:"a-"+e.id},[s("span",null,i(e.id),1),s("span",null,i(e.name),1),s("span",null,i(e.stake),1)]))),128))])])]),s("div",$,[s("div",ss,[s("div",es,[c(" Participanți "),ts,(a(!0),d(f,null,g(t.entries,(e,y)=>(a(),d("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2 border-solid border-b-[1px] small-font",key:"a-"+e.id},[s("span",null,i(e.id),1),s("span",ls,[s("img",{class:"avatar-entry",src:e.avatar,alt:""},null,8,is),c(i(e.user),1)]),s("span",null,i(e.result),1),s("span",null,i(e.biggest_multi??"-"),1),s("span",null,i(e.lowest_multi??"-"),1)]))),128))])])])])]),o(x,{show:t.show},{title:m(()=>[c(" Notificare ")]),content:m(()=>[c(i(t.message.data),1)]),footer:m(()=>[o(w,{onClick:l[5]||(l[5]=e=>t.show=!t.show)},{default:m(()=>[c(" Ok ")]),_:1})]),_:1},8,["show"])]),_:1})}const gs=R(z,[["render",os]]);export{gs as default};
