import{p as c,q as a,c as u,b as t,a as r,t as o,n as h,k as d,F as v,h as p,v as m,d as i,w as f,T as y,o as g}from"./app-cafe65d5.js";import{S as C,a as A,b as N,c as j}from"./backward-a13b0bd5.js";import{S as B}from"./stake-site-77caeb93.js";import D from"./HuntHistory-e14a3dde.js";import T from"./LatestHunt-ca999d1a.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./multiplier-bbf2ce1d.js";import"./LatestHuntStats-1a513ada.js";import"./target-b751ed1b.js";import"./LatestHuntCurentNext-1ce1eee8.js";import"./forward-63c539a2.js";import"./LatestHuntHighLowX-a798e05e.js";import"./down-b20991f3.js";import"./LatestHuntHighLowWin-702d2393.js";import"./shit-856e0110.js";import"./LatestHuntGuess-376f3e19.js";import"./LatestHuntGuessers-334cf2ec.js";const R={components:{LatestHunt:T,HuntHistory:D,SvgCalendar:C,SvgGame:A,SvgMoney:N,SvgBackward:j,SvgStakeSite:B},data(){return{loading:!0,streamer:{},bonusHuntHistory:[],latestHunt:null,refreshInterval:null,currency:"RON",activeIndex:0,bannerSpot:[]}},props:{streamerId:{type:Number,required:!0}},async mounted(){await this.getData(),this.startAutoScroll()},methods:{async getData(){await this.getBonusHuntHistory(),await this.getSettings(),await this.getBannerAds()},async getBonusHuntHistory(){try{const n=await c.get("/api/viewer/get-bh-history/"+this.streamerId);this.bonusHuntHistory=n.data.bonusHunts,this.latestHunt=this.bonusHuntHistory[0]}catch(n){console.error("Error fetching bonus hunt history:",n)}},async getSettings(){let n="obs_bonus_list";try{const e=await c.get("/api/get-setting-public",{params:{setting_name:n,user_id:this.streamerId}});e.data.setting_value&&(this.currency=JSON.parse(e.data.setting_value).currency)}catch(e){console.error(`Error loading setting "${n}":`,e)}},async getBannerAds(){try{this.loading=!0;const n=await c.get("/api/banners-ads/"+this.streamerId);n.data.bannersAds&&(this.bannerSpot=n.data.bannersAds)}catch(n){console.error(`Error loading setting "${settingName}":`,n)}finally{this.loading=!1}},async registerClick(n){try{await c.post(`/api/banner-ads/${n}/click`)}catch(e){console.error("Error registering click:",e)}},changeLatestHunt(n){this.latestHunt=n},convertDate(n){const e=new Date(n);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"short",year:"numeric"}).format(e)},startAutoScroll(){setInterval(()=>{this.activeIndex=(this.activeIndex+1)%3},5e3)}}},E={key:0},F={class:"flex flex-col md:flex-row justify-center items-stretch gap-4 mb-4"},M={key:0,class:"gap-2 rounded-lg backdrop-blur-xl p-4 bg-white/10 shadow-lg shadow-black/40 border border-white/20 w-full md:w-1/4 flex flex-col justify-between"},V={class:"flex flex-row justify-between items-center"},O={class:"flex flex-row items-center gap-1"},G={class:"uppercase"},q={class:"flex flex-row justify-between items-center font-bold text-xl"},P={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},z={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},J={class:"flex flex-row items-center justify-between gap-1 text-sm"},U={class:"flex flex-row items-center gap-1"},K=["href"],Q=["src","alt"],W=["href"],X=["src","alt"],Y={href:"https://stake.com/?tab=register&modal=auth&c=4cb4a7ab68",target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 h-[130px] flex group bg-[url(/storage/assets/images/dog-bg.jpg)] bg-center bg-no-repeat bg-cover"},Z={class:"absolute inset-0 bg-black/40 backdrop-blur-sm opacity-100 transition-all duration-300 p-4 flex items-center justify-center"},$={class:"absolute top-0 mr-auto"},tt={class:"w-full text-center relative mt-14"},et={class:"fade-slide"},st={class:"fade-slide"},nt={class:"fade-slide"};function rt(n,e,ot,at,s,l){const _=a("SvgBackward"),x=a("SvgGame"),b=a("SvgMoney"),w=a("SvgCalendar"),H=a("SvgStakeSite"),S=a("LatestHunt"),k=a("HuntHistory");return s.loading?d("",!0):(g(),u("div",E,[t("div",F,[s.bonusHuntHistory.length>0?(g(),u("div",M,[t("div",V,[t("div",O,[t("div",null,[r(_,{class:"h-5 w-5 text-white stroke-current"})]),t("div",G,o(n.$t("latest_hunt")),1)]),t("div",{class:h(["bg-gray-800 px-2 py-1 rounded-lg text-xs font-bold",{"text-gray-500":s.latestHunt.ended,"text-green-500":!s.latestHunt.ended}])},o(s.latestHunt.ended?"TERMINAT":"ACTIV"),3)]),t("div",q,[t("div",P,[t("div",null,[r(x,{class:"h-5 w-5 text-indigo-500 fill-current"})]),t("div",null,o(s.latestHunt.bonus_hunt_games.length),1)]),t("div",z,[t("div",null,[r(b,{class:"h-5 w-5 text-green-500"})]),t("div",null,o(s.latestHunt.start)+" "+o(s.currency),1)])]),t("div",J,[t("div",U,[t("div",null,[r(w,{class:"w-4 h-4 text-gray-500 stroke-current"})]),t("div",null,o(l.convertDate(s.latestHunt.created_at)),1)]),t("div",{class:h(["flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded",{"text-green-500":parseFloat(s.latestHunt.result)>=parseFloat(s.latestHunt.start),"text-red-500":parseFloat(s.latestHunt.result)<=parseFloat(s.latestHunt.start)}])},[t("div",null,[r(b,{class:"h-4 w-4"})]),t("div",null,o(s.latestHunt.result)+" "+o(s.currency),1)],2)])])):d("",!0),this.bannerSpot.length>=2?(g(),u(v,{key:1},[t("a",{href:this.bannerSpot[0].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[0]||(e[0]=I=>l.registerClick(this.bannerSpot[0].id))},[t("img",{src:this.bannerSpot[0].image,alt:this.bannerSpot[0].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,Q),e[2]||(e[2]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,K),t("a",{href:this.bannerSpot[1].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:e[1]||(e[1]=I=>l.registerClick(this.bannerSpot[1].id))},[t("img",{src:this.bannerSpot[1].image,alt:this.bannerSpot[1].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,X),e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,W)],64)):d("",!0),t("a",Y,[t("div",Z,[t("div",$,[r(H,{class:"w-20 h-20 animated-pump"})]),t("div",tt,[p(t("div",et,e[4]||(e[4]=[t("div",{class:"bg-gray-800 py-1 px-3 rounded font-bold text-lg inline-block"},"COD: MALA",-1)]),512),[[m,s.activeIndex===0]]),p(t("div",st,e[5]||(e[5]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Rakeback activ + Bonus "),t("span",{class:"font-bold"},"SĂPTĂMÂNAL"),i(" și "),t("span",{class:"font-bold"},"LUNAR"),i(" din ce ai jucat, fără Rulaj! ")],-1)]),512),[[m,s.activeIndex===1]]),p(t("div",nt,e[6]||(e[6]=[t("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Cele mai "),t("span",{class:"font-bold"},"MARE RTP"),i(),t("span",{class:"font-bold"},"98% - 99%"),i("! ")],-1)]),512),[[m,s.activeIndex===2]])])])])]),s.bonusHuntHistory.length>0?(g(),u(v,{key:0},[r(y,{name:"fade",mode:"out-in"},{default:f(()=>[r(S,{huntId:s.latestHunt.id,currency:s.currency},null,8,["huntId","currency"])]),_:1}),r(y,{name:"fade",mode:"out-in"},{default:f(()=>[r(k,{onSeeHunt:l.changeLatestHunt,bonusHuntHistory:s.bonusHuntHistory,currency:s.currency},null,8,["onSeeHunt","bonusHuntHistory","currency"])]),_:1})],64)):d("",!0)]))}const St=L(R,[["render",rt],["__scopeId","data-v-db664b85"]]);export{St as default};
