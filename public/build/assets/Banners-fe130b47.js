import{_ as f}from"./AppLayout-654ef91b.js";import{D as i,o as n,e as o,a as e,k as p,E as m,F as g,h as _,t as c,f as b,c as x,w as y,b as k}from"./app-ad1c3a79.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-29e99846.js";const v={data(){return{loading:!0,banner:{file:null,name:null},banners:[]}},async mounted(){await this.getBanners(),this.loading=!1},methods:{async getBanners(){await i.get("/api/banner").then(a=>{this.banners=a.data.banners}).catch(a=>{console.log(a)})},async uploadBanner(){this.loading=!0;let a=this.banner;await i.post("/api/banner",{name:a.name,image:a.file},{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{this.bonusHuntGames.push(t.data)}).catch(t=>{console.log(t)}),await this.getBanners(),this.loading=!1},async removeBanner(a){this.loading=!0,await i.delete("/api/banner/"+a).catch(t=>{console.log(t)}),await this.getBanners(),this.loading=!1},handleFileUpload(a){this.banner.file=a.target.files[0]},formatDateLabels(a){const t=new Date(a),d=t.getDate().toString().padStart(2,"0"),u=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getFullYear();return`${d}-${u}-${s}`}}},B={class:"p-6"},D={class:"flex justify-between gap-2"},C={key:0,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-6"},S={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},F=e("thead",{class:"p-6 text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-400"},[e("tr",{class:"table-row"},[e("th",{class:"p-2 table-cell text-left"},"ID"),e("th",{class:"p-2 table-cell text-left"},"Nume"),e("th",{class:"p-2 table-cell text-left"},"Imagine"),e("th",{class:"p-2 table-cell text-left"},"Data"),e("th",{class:"p-2 table-cell text-left"})])],-1),N={class:"p-2 table-cell text-left"},L={class:"p-2 table-cell text-left"},M={class:"p-2 table-cell text-left"},V=["src"],j={class:"p-2 table-cell text-left"},U={class:"p-2 table-cell text-left"},$=["onClick"],E=e("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),I=[E];function T(a,t,d,u,s,l){return n(),o("div",B,[e("div",D,[e("input",{type:"file",id:"file",onChange:t[0]||(t[0]=r=>l.handleFileUpload(r)),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Banner"},null,32),p(e("input",{type:"text",id:"name_banner","onUpdate:modelValue":t[1]||(t[1]=r=>s.banner.name=r),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Nume banner"},null,512),[[m,s.banner.name]]),e("button",{onClick:t[2]||(t[2]=(...r)=>l.uploadBanner&&l.uploadBanner(...r)),type:"button",tabindex:"-1",class:"justify-center self-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"}," Adauga ")]),s.banners?(n(),o(g,{key:0},[s.loading?b("",!0):(n(),o("div",C,[e("table",S,[F,e("tbody",null,[(n(!0),o(g,null,_(s.banners,(r,h)=>(n(),o("tr",{class:"p-2 bg-white border-b dark:bg-gray-900 dark:border-gray-700",key:r.id+h},[e("td",N,c(r.id),1),e("td",L,c(r.name),1),e("td",M,[e("img",{class:"banner",src:r.image},null,8,V)]),e("td",j,c(l.formatDateLabels(r.created_at)),1),e("td",U,[e("button",{type:"button",tabindex:"-1",onClick:q=>l.removeBanner(r.id),class:"text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},I,8,$)])]))),128))])])]))],64)):b("",!0)])}const A=w(v,[["render",T]]),G={class:"py-12"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},P={__name:"Banners",setup(a){return(t,d)=>(n(),x(f,{title:"Dashboard"},{default:y(()=>[e("div",G,[e("div",H,[e("div",Y,[k(A)])])])]),_:1}))}};export{P as default};
