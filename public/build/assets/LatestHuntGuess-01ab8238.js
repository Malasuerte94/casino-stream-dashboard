import{q as g,c as r,b as t,F as c,s as b,k as m,a as M,w as G,H as P,h as d,y as p,a8 as v,t as n,o as a}from"./app-58420b30.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";const k={props:{latestHunt:{type:Object,required:!0},listType:{type:String,required:!0},currency:{type:String,required:!1,default:"RON"}},data(){return{highestMulti:0,lowestMulti:0,totalPayout:0,bestGame:"",worstGame:"",existingPrediction:null,notification:null,winners:null,winnerTitles:{resultWinner:"Cel mai Apropiat Rezultat",biggestMultiplierWinner:"Cel mai Mare Multiplicator",lowestMultiplierWinner:"Cel mai Mic Multiplicator",exactBiggestMultiplierGame:"Exact Cel mai Mare Multiplicator",exactLowestMultiplierGame:"Exact Cel mai Mic Multiplicator"}}},async mounted(){await this.fetchExistingPrediction(),this.latestHunt.is_open||await this.fetchWinners()},methods:{async fetchExistingPrediction(){try{const o=await g.get(`/api/viewer/get-prediction/${this.latestHunt.id}`);o.data&&o.data.prediction&&(this.existingPrediction=o.data.prediction,this.highestMulti=o.data.prediction.highestMulti,this.lowestMulti=o.data.prediction.lowestMulti,this.totalPayout=o.data.prediction.totalPayout,this.bestGame=o.data.prediction.bestGame,this.worstGame=o.data.prediction.worstGame)}catch(o){console.error("Error fetching existing prediction:",o)}},async submitPredictions(){var e;if(!((e=this.latestHunt)!=null&&e.is_open))return;const o={highestMulti:this.highestMulti,lowestMulti:this.lowestMulti,totalPayout:this.totalPayout,bestGame:this.bestGame,worstGame:this.worstGame,bonusId:this.latestHunt.id,listType:this.listType};try{const l=await g.post("/api/viewer/add-prediction",o);this.notification=l.data.message,await this.fetchExistingPrediction(),setTimeout(()=>this.notification=null,3e3)}catch(l){console.error("Error submitting predictions:",l),this.notification="Eroare la trimiterea predic»õiei!",setTimeout(()=>this.notification=null,3e3)}},async fetchWinners(){try{const o=await g.get(`/api/get-bonus-winner/${this.latestHunt.user_id}`);this.winners=o.data.winners}catch{console.error("No winners found.")}},getGameName(o){var l;const e=(l=this.latestHunt)==null?void 0:l.bonus_hunt_games.find(f=>f.id===o);return e?e.game.name:"Necunoscut"}}},H={key:0,class:"backdrop-blur-xl bg-white/10 shadow-lg shadow-black/40 border border-white/20 p-4 rounded-lg gap-4 flex flex-col text-white relative"},N={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},T=["src"],E={key:1,class:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-white text-xs"},j={class:"flex flex-col"},V={class:"text-gray-300 text-sm"},U={class:"font-semibold text-white"},W={class:"relative"},q={class:"backdrop-blur-xl bg-white/10 shadow-lg shadow-black/40 border border-white/20 p-4 rounded-lg gap-4 flex flex-col text-white relative"},B={key:0,class:"absolute top-0 left-0 right-0 bg-green-600 text-white p-2 rounded-t-lg text-center"},S={class:"grid grid-cols-2 gap-4"},A={class:"flex flex-col gap-1"},L={class:"flex flex-col gap-1"},D={class:"grid grid-cols-2 gap-4"},F={class:"flex flex-col gap-1"},O=["value"],R={class:"flex flex-col gap-1"},z=["value"],I={class:"grid grid-cols-2 gap-4"},J={class:"flex flex-col gap-1"},K={class:"flex flex-col justify-end"},Q=["disabled"],X={key:0,class:"absolute inset-0 bg-black/30 backdrop-blur-md flex items-center justify-center rounded-lg p-0"},Y={class:"p-1 rounded-lg text-white"},Z={class:"flex flex-col text-xs"},$={class:"w-full mt-2 border border-gray-700 rounded-lg flex flex-row"},tt={class:"flex flex-col"},et={class:"border-b border-gray-700 flex flex-row"},it={class:"p-2"},st={class:"border-b border-gray-700 flex flex-row"},ot={class:"p-2"},lt={class:"flex flex-col"},rt={class:"border-b border-gray-700 flex flex-row"},nt={class:"p-2"},at={class:"border-b border-gray-700 flex flex-row"},dt={class:"p-2"},ut={class:"border-b border-gray-700 flex flex-col"},ct={class:"p-2"};function gt(o,e,l,f,s,u){var h,x,y,_;return a(),r(c,null,[s.winners?(a(),r("div",H,[e[6]||(e[6]=t("div",{class:"text-lg font-semibold text-center mb-2"},"üèÜ C√¢»ôtigƒÉtori üèÜ",-1)),t("div",N,[(a(!0),r(c,null,b(s.winners,(i,w)=>(a(),r("div",{key:w,class:"flex items-center gap-3 bg-gray-900/80 p-4 rounded-lg shadow-lg border border-gray-700"},[i!=null&&i.profile_photo_path?(a(),r("img",{key:0,src:i.profile_photo_path,alt:"User Avatar",class:"w-10 h-10 rounded-full border border-gray-600"},null,8,T)):(a(),r("div",E," üèÖ ")),t("div",j,[t("div",V,n(s.winnerTitles[w]),1),t("div",U,n((i==null?void 0:i.name)||"N/A"),1)])]))),128))])])):m("",!0),t("div",W,[t("div",q,[M(P,{name:"fade"},{default:G(()=>[s.notification?(a(),r("div",B,n(s.notification),1)):m("",!0)]),_:1}),e[12]||(e[12]=t("div",{class:"font-semibold"},"Predic»õii Hunt",-1)),t("div",S,[t("div",A,[e[7]||(e[7]=t("label",{for:"highestMulti",class:"text-gray-300"},"Cel mai mare multi",-1)),d(t("input",{id:"highestMulti","onUpdate:modelValue":e[0]||(e[0]=i=>s.highestMulti=i),type:"number",class:"bg-gray-900 text-white border border-gray-700 rounded p-2 outline-none focus:ring focus:ring-indigo-500"},null,512),[[p,s.highestMulti,void 0,{number:!0}]])]),t("div",L,[e[8]||(e[8]=t("label",{for:"lowestMulti",class:"text-gray-300"},"Cel mai mic multi",-1)),d(t("input",{id:"lowestMulti","onUpdate:modelValue":e[1]||(e[1]=i=>s.lowestMulti=i),type:"number",class:"bg-gray-900 text-white border border-gray-700 rounded p-2 outline-none focus:ring focus:ring-indigo-500"},null,512),[[p,s.lowestMulti,void 0,{number:!0}]])])]),t("div",D,[t("div",F,[e[9]||(e[9]=t("label",{for:"bestGame",class:"text-gray-300"},"Cel mai bun joc",-1)),d(t("select",{id:"bestGame","onUpdate:modelValue":e[2]||(e[2]=i=>s.bestGame=i),class:"bg-gray-900 text-white border border-gray-700 rounded p-2 outline-none focus:ring focus:ring-green-500"},[(a(!0),r(c,null,b((h=l.latestHunt)==null?void 0:h.bonus_hunt_games,i=>(a(),r("option",{key:i.id,value:i.id},n(i.game.name),9,O))),128))],512),[[v,s.bestGame]])]),t("div",R,[e[10]||(e[10]=t("label",{for:"worstGame",class:"text-gray-300"},"Cel mai prost joc",-1)),d(t("select",{id:"worstGame","onUpdate:modelValue":e[3]||(e[3]=i=>s.worstGame=i),class:"bg-gray-900 text-white border border-gray-700 rounded p-2 outline-none focus:ring focus:ring-red-500"},[(a(!0),r(c,null,b((x=l.latestHunt)==null?void 0:x.bonus_hunt_games,i=>(a(),r("option",{key:i.id,value:i.id},n(i.game.name),9,z))),128))],512),[[v,s.worstGame]])])]),t("div",I,[t("div",J,[e[11]||(e[11]=t("label",{for:"totalPayout",class:"text-gray-300"},"C√¢t plƒÉte»ôte lista",-1)),d(t("input",{id:"totalPayout","onUpdate:modelValue":e[4]||(e[4]=i=>s.totalPayout=i),type:"number",class:"bg-gray-900 text-white border border-gray-700 rounded p-2 outline-none focus:ring focus:ring-indigo-500"},null,512),[[p,s.totalPayout,void 0,{number:!0}]])]),t("div",K,[t("button",{onClick:e[5]||(e[5]=(...i)=>u.submitPredictions&&u.submitPredictions(...i)),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300",disabled:!((y=l.latestHunt)!=null&&y.is_open)},n(s.existingPrediction?"Update Predic»õii":"Trimite Predic»õii"),9,Q)])])]),(_=l.latestHunt)!=null&&_.is_open?m("",!0):(a(),r("div",X,[t("div",Y,[t("div",Z,[e[18]||(e[18]=t("div",{class:"text-sm font-semibold text-left"},"Predic»õiile tale",-1)),t("div",$,[t("div",tt,[t("div",et,[e[13]||(e[13]=t("div",{class:"p-2"},"Cel mai mare multi",-1)),t("div",it,n(s.highestMulti)+"x",1)]),t("div",st,[e[14]||(e[14]=t("div",{class:"p-2"},"Cel mai mic multi",-1)),t("div",ot,n(s.lowestMulti)+"x",1)])]),t("div",lt,[t("div",rt,[e[15]||(e[15]=t("div",{class:"p-2"},"Cel mai bun joc",-1)),t("div",nt,n(u.getGameName(s.bestGame)),1)]),t("div",at,[e[16]||(e[16]=t("div",{class:"p-2"},"Cel mai prost joc",-1)),t("div",dt,n(u.getGameName(s.worstGame)),1)])]),t("div",ut,[e[17]||(e[17]=t("div",{class:"p-2"},"C√¢t plƒÉte»ôte lista",-1)),t("div",ct,n(s.totalPayout)+" "+n(l.currency),1)])])])])]))])],64)}const pt=C(k,[["render",gt]]);export{pt as default};
