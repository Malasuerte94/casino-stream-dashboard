import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{c as i,b as t,F as f,E as g,t as o,k as x,I as _,o as n,n as u}from"./app-d6a29bf7.js";const w={props:{latestBattle:{type:Object,required:!0}},data(){return{isDragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,scale:1}},methods:{getScores(a,e){return a.filter(c=>c.participant_id===e)},startDrag(a){this.isDragging=!0,this.startX=a.clientX-this.offsetX,this.startY=a.clientY-this.offsetY},onDrag(a){this.isDragging&&(this.offsetX=a.clientX-this.startX,this.offsetY=a.clientY-this.startY)},endDrag(){this.isDragging=!1},zoom(a){a.preventDefault();const e=a.deltaY*-.001;this.scale=Math.min(Math.max(this.scale+e,.5),2)}}},b={class:"flex flex-col items-center gap-4"},v={class:"text-lg font-bold mb-2"},y={class:"flex gap-4 relative"},D={class:"flex items-center justify-center gap-2 backdrop-blur-xl bg-white/10 shadow-lg shadow-black/40 border border-white/20 p-2 rounded-lg"},B={class:"text-sm font-bold"},S={class:"border-r border-white p-1"},Y={class:"border-r border-white p-1"},X={class:"p-1"},C={class:"text-sm font-bold"},A={class:"border-r border-white p-1"},E={class:"border-r border-white p-1"},F={class:"p-1"},M={key:0,class:"mt-8 text-center font-bold text-xl text-yellow-500"};function T(a,e,c,z,h,l){return n(),i("div",{class:"relative w-full h-full overflow-hidden",onMousedown:e[0]||(e[0]=(...r)=>l.startDrag&&l.startDrag(...r)),onMousemove:e[1]||(e[1]=(...r)=>l.onDrag&&l.onDrag(...r)),onMouseup:e[2]||(e[2]=(...r)=>l.endDrag&&l.endDrag(...r)),onMouseleave:e[3]||(e[3]=(...r)=>l.endDrag&&l.endDrag(...r)),onWheel:e[4]||(e[4]=(...r)=>l.zoom&&l.zoom(...r))},[t("div",{class:"transform origin-top-left",style:_({transform:`scale(${h.scale}) translate(${h.offsetX}px, ${h.offsetY}px)`}),ref:"tournamentContainer"},[t("div",b,[(n(!0),i(f,null,g(c.latestBattle.stages,(r,O)=>(n(),i("div",{key:r.id,class:"flex flex-col items-center relative"},[t("h3",v,o(r.name),1),t("div",y,[(n(!0),i(f,null,g(r.brackets,(s,I)=>(n(),i("div",{key:s.id,class:"flex flex-col items-center relative"},[t("div",D,[t("div",{class:u(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantA.id}])},[t("div",B,o(s.participantA.game),1),t("table",{class:u(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantA.id}])},[e[5]||(e[5]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(n(!0),i(f,null,g(l.getScores(s.scores,s.participantA.id),(d,m)=>(n(),i("tr",{key:"a-score-"+m},[t("td",S,o(d.cost),1),t("td",Y,o(d.result),1),t("td",X,o(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2),e[7]||(e[7]=t("div",{class:"font-bold text-orange-500"},"VS",-1)),t("div",{class:u(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantB.id}])},[t("div",C,o(s.participantB.game),1),t("table",{class:u(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantB.id}])},[e[6]||(e[6]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(n(!0),i(f,null,g(l.getScores(s.scores,s.participantB.id),(d,m)=>(n(),i("tr",{key:"b-score-"+m},[t("td",A,o(d.cost),1),t("td",E,o(d.result),1),t("td",F,o(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2)])]))),128))])]))),128)),c.latestBattle.summary.winning_game!=="N/A"?(n(),i("div",M,"🏆 Winner: "+o(c.latestBattle.summary.winning_game)+" 🏆",1)):x("",!0)])],4)],32)}const N=p(w,[["render",T],["__scopeId","data-v-2972c043"]]);export{N as default};
