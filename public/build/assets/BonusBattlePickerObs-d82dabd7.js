import p from"./BonusBattlePickerUsersGlobe-2cf6f79d.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";import{O as _,c as s,b as i,F as h,s as g,k as r,f as m,o as t,t as c}from"./app-5c3c8a25.js";const w={components:{BonusBattlePickerUsersGlobe:p},props:["id"],data(){return{loading:!0,allViewers:[],allSettings:{}}},computed:{winners(){return this.allViewers.filter(e=>e.picked&&!e.eliminated)}},async mounted(){await this.updateList(),this.loading=!1,window.Echo.channel(`App.Models.User.${this.id}`).listen("BattleViewerUpdated",async()=>{await this.updateList()}).listen("SettingsUpdated",async()=>{await this.updateList()})},methods:{async getList(){try{const e=await axios.get(`/api/battle-viewers-public/${this.id}`);e.data&&(this.allViewers=e.data)}catch(e){console.log(e)}},async getSettings(){await axios.get("/api/settings/"+this.id).then(e=>{this.allSettings=e.data.settings}).catch(e=>{console.log(e)})},async updateList(){await this.getList(),await this.getSettings()}}},x={key:0,class:"p-4 text-center"},f={key:0,class:"mb-6 flex flex-col items-center"},y={class:"flex justify-center flex-wrap gap-4"},k={class:"text-sm font-bold"},B={class:"text-xs"},b={class:"flex flex-col items-center"},v={key:1,class:"p-4"};function V(e,o,L,S,a,n){const d=_("BonusBattlePickerUsersGlobe");return!a.loading&&a.allSettings.battle_selections==1?(t(),s("div",x,[n.winners.length?(t(),s("div",f,[o[0]||(o[0]=i("h2",{class:"text-2xl font-extrabold text-yellow-400 uppercase mb-2"},"Câștigători",-1)),i("div",y,[(t(!0),s(h,null,g(n.winners,l=>(t(),s("div",{key:l.id,class:"px-2 py-1 bg-yellow-600 text-white rounded-lg shadow-xl transform transition-all hover:scale-105"},[i("p",k,c(l.user),1),i("p",B,c(l.game),1)]))),128))])])):r("",!0),i("div",b,[a.allViewers.length?(t(),m(d,{key:0,allViewers:a.allViewers},null,8,["allViewers"])):r("",!0)])])):(t(),s("div",v))}const G=u(w,[["render",V]]);export{G as default};
