import{q as c,Q as o,c as i,b as t,a as n,n as v,t as a,k as u,M as H,F as d,o as l}from"./app-0612a4de.js";import{S as _,a as w,b as x,c as S}from"./backward-11026a39.js";import k from"./HuntHistory-7f802867.js";import I from"./LatestHunt-e174b17a.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import"./LatestHuntStats-9471d41b.js";import"./LatestHuntCurentNext-64a106a1.js";import"./LatestHuntHighLowX-2cfd609d.js";import"./LatestHuntHighLowWin-4880f051.js";import"./LatestHuntGuess-60b2f621.js";const N={components:{LatestHunt:I,HuntHistory:k,SvgCalendar:_,SvgGame:w,SvgMoney:x,SvgBackward:S},data(){return{streamer:{},bonusHuntHistory:[],refreshInterval:null,currency:"RON"}},props:{steamerId:{type:Number,required:!0}},async mounted(){await this.getData(),this.refreshInterval=setInterval(()=>{this.getBonusHuntHistory()},5e3)},beforeUnmount(){clearInterval(this.refreshInterval)},methods:{async getData(){await this.getBonusHuntHistory(),await this.getSettings()},async getBonusHuntHistory(){try{const s=await c.get("/api/viewer/get-bh-history/"+this.steamerId);this.bonusHuntHistory=s.data.bonusHunts}catch(s){console.error("Error fetching bonus hunt history:",s)}},async getSettings(){let s="obs_bonus_list";try{this.loading=!0;const r=await c.get("/api/get-setting-public",{params:{setting_name:s,user_id:this.steamerId}});r.data.setting_value&&(this.currency=JSON.parse(r.data.setting_value).currency)}catch(r){console.error(`Error loading setting "${s}":`,r),this.error=`Failed to load setting: ${s}`}finally{this.loading=!1}},convertDate(s){const r=new Date(s);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"long",year:"numeric"}).format(r)}}},B={class:"flex flex-col md:flex-row justify-center items-stretch gap-4 mb-4"},j={key:0,class:"gap-2 rounded-lg backdrop-blur-xl p-4 bg-white/10 shadow-lg shadow-black/40 border border-white/20 w-full md:w-1/4 flex flex-col justify-between"},q={class:"flex flex-row justify-between items-center"},C={class:"flex flex-row items-center gap-1"},D={class:"flex flex-row justify-between items-center font-bold text-xl"},T={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},U={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},V={class:"flex flex-row items-center gap-1 text-sm"};function L(s,r,E,F,e,g){const m=o("SvgBackward"),p=o("SvgGame"),y=o("SvgMoney"),b=o("SvgCalendar"),f=o("LatestHunt"),h=o("HuntHistory");return l(),i(d,null,[t("div",B,[e.bonusHuntHistory.length>0?(l(),i("div",j,[t("div",q,[t("div",C,[t("div",null,[n(m,{class:"h-5 w-5 text-white stroke-current"})]),r[0]||(r[0]=t("div",null,"ULTIMUL HUNT",-1))]),t("div",{class:v(["bg-gray-800 px-2 py-1 rounded-lg text-xs font-bold",{"text-gray-500":e.bonusHuntHistory[0].ended,"text-green-500":!e.bonusHuntHistory[0].ended}])},a(e.bonusHuntHistory[0].ended?"TERMINAT":"ACTIV"),3)]),t("div",D,[t("div",T,[t("div",null,[n(p,{class:"h-5 w-5 text-indigo-500 fill-current"})]),t("div",null,a(e.bonusHuntHistory[0].bonus_hunt_games.length),1)]),t("div",U,[t("div",null,[n(y,{class:"h-5 w-5 text-green-500"})]),t("div",null,a(e.bonusHuntHistory[0].start)+" "+a(e.currency),1)])]),t("div",V,[t("div",null,[n(b,{class:"w-4 h-4 text-gray-500 stroke-current"})]),t("div",null,a(g.convertDate(e.bonusHuntHistory[0].created_at)),1)])])):u("",!0),r[1]||(r[1]=H('<a href="#" class="relative rounded-lg overflow-hidden w-full md:w-2/5 flex group"><img src="https://41.media.tumblr.com/efd15be8d41b12a7b0ef17fba27c3e20/tumblr_mqqy59HMaf1qzattso1_1280.jpg" alt="Main User" class="w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"><div class="absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"></div></a><a href="#" class="relative rounded-lg overflow-hidden w-full md:w-2/5 flex group"><img src="https://41.media.tumblr.com/efd15be8d41b12a7b0ef17fba27c3e20/tumblr_mqqy59HMaf1qzattso1_1280.jpg" alt="Main User" class="w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"><div class="absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"></div></a>',2))]),e.bonusHuntHistory.length>0?(l(),i(d,{key:0},[n(f,{latestHunt:e.bonusHuntHistory[0],currency:e.currency},null,8,["latestHunt","currency"]),n(h,{bonusHuntHistory:e.bonusHuntHistory,currency:e.currency},null,8,["bonusHuntHistory","currency"])],64)):u("",!0)],64)}const X=M(N,[["render",L]]);export{X as default};
