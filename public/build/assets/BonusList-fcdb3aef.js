import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{o as r,e as o,a as s,N as f,b as L,t as l,O as b,g as c,F as g,h as _,f as y,n as p}from"./app-b6571003.js";const w={},x={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",width:"50",height:"50",x:"0",y:"0",viewBox:"0 0 365.725 365.725",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""},S=s("g",null,[s("path",{d:"M357.29 315.48c-.11-.111-.22-.222-.331-.331l-14.08-13.76-25.68-25.84-19.04-19.04 16.88-16.88a8 8 0 0 0 0-11.28l-18.24-18.24a8 8 0 0 0-11.28 0l-6.56 6.56-26.96-30.16 106.88-95.68a8.002 8.002 0 0 0 2.64-5.6l3.84-76.72a8 8 0 0 0-2.32-6.08 8 8 0 0 0-6.08-2.32l-76.72 3.76a8.002 8.002 0 0 0-5.6 2.64l-91.76 102.88L90.959 6.748a8.002 8.002 0 0 0-5.6-2.64L8.639.348a8 8 0 0 0-6.08 2.32 8 8 0 0 0-2.32 6.08l3.84 76.72a8.002 8.002 0 0 0 2.64 5.6l107.04 96-26.88 29.68-6.56-6.56a8 8 0 0 0-11.28 0l-18.24 18.24a8 8 0 0 0 0 11.28l16.88 16.88-19.12 18.96-40 40c-11.443 11.488-11.407 30.078.081 41.521a29.365 29.365 0 0 0 20.639 8.559 29.122 29.122 0 0 0 20.72-8.56l58.72-58.72 16.88 16.88a8 8 0 0 0 11.28 0l18.24-18.24a8 8 0 0 0 0-11.28l-6.24-6.96 34-30.32 34 30.32-6.56 6.56a8 8 0 0 0 0 11.28l18.24 18.24a8 8 0 0 0 11.28 0l16.88-16.88 19.04 19.04 25.76 25.76 13.92 13.92c11.374 11.557 29.963 11.705 41.52.331 11.557-11.373 11.705-29.963.331-41.519zm-89.851-87.452-14.08 14.08-30.08-30.08 16.56-14.8 27.6 30.8zm-248-146.96-3.2-64.56 64.56 3.2 90.88 101.6-18.56 20.72-33.6-33.6a8 8 0 0 0-11.28 11.28l34.64 34.32-18.4 20.72-105.04-93.68zm19.12 264a13.28 13.28 0 0 1-9.44 3.92c-7.358-.546-12.881-6.954-12.334-14.312a13.361 13.361 0 0 1 3.374-7.928l8-8 18.72 18.48-8.32 7.84zm19.52-19.52-18.4-18.48 14.48-14.48 18.88 18.88-14.96 14.08zm25.84-25.84-18.88-18.88 13.84-12.96 18.88 18.88-13.84 12.96zm47.2-2.16-16.8-16.8-30.16-30.16-16.48-16.56 6.88-6.88 64 64-7.44 6.4zm6-30.48-14.08-14.08 133.6-133.6a8 8 0 1 0-11.28-11.28l-133.6 133.6-14.08-14.08 32.8-36.64 154.08-171.2 64.56-3.2-3.2 64.56-110.56 98.8-98.24 87.12zm57.28-29.84 17.2-14.48 30.64 30.64-14.08 14.08-33.76-30.24zm56 43.44-16.24 17.28-6.88-6.88 64-64 6.88 6.88-16.88 16.88-30.88 29.84zm16.96 5.68 19.52-18.48 13.36 13.36-18.88 18.88-14-13.76zm39.2 39.2-14.48-14.48 18.88-18.88 14.48 14.48-18.88 18.88zm39.04 19.92-.64-.4c-5.285 5.039-13.595 5.039-18.88 0l-8-8 19.28-18.32 8 8c5.17 5.131 5.276 13.458.24 18.72z",fill:"#000000","data-original":"#000000"})],-1),z=[S];function B(t,n){return r(),o("svg",x,z)}const G=v(w,[["render",B]]);const T={components:{SvgBh:G},props:["id"],data(){return{loading:!0,bonusList:[],bonusListGames:[],settings:null,isUpdating:!1,scrollSpeed:500,itWasDuplicated:!0}},computed:{huntOrBuy(){var t;return((t=this.settings)==null?void 0:t.bonus_list)==="buy"?"Buy":"Hunt"},duplicatedGames(){return this.shouldScroll()?(this.itWasDuplicated=!0,[...this.bonusListGames,...this.bonusListGames]):(this.itWasDuplicated=!1,this.bonusListGames)},firstEmptyResultId(){const t=this.bonusListGames.find(n=>n.result==="0");return t?t.id:null},gamesOpenedNr(){return this.bonusListGames.filter(t=>t.result&&t.result!=="0").length},gamesTotalNr(){return this.bonusListGames.length},gamesRemainingNr(){return this.bonusListGames.filter(t=>!t.result||t.result==="0").length},gameHighestMulti(){return Math.max(...this.bonusListGames.map(t=>parseFloat(t.multiplier)))},progressPercentage(){return this.gamesOpenedNr/this.gamesTotalNr*100},averageMulti(){const t=this.bonusListGames.filter(a=>a.result!==null&&a.result!=="0");if(t.length===0)return 0;const n=t.reduce((a,h)=>a+parseFloat(h.multiplier),0);return Math.round(n/t.length)}},async mounted(){await this.getSettings(),await this.getLatestList(),this.loading=!1,await this.$nextTick(()=>{this.initAutoScroll(this.$refs.scrollWrapper),this.initAutoScroll(this.$refs.scrollWrapperHunt)}),await this.updateTheListFromTimeToTime()},methods:{shouldScroll(){const t=this.$refs.scrollWrapper||this.$refs.scrollWrapperHunt,n=this.$refs.viewport;if(!t||!n)return!1;const a=document.querySelector(".header-list"),h=a?a.getBoundingClientRect().height:0,i=n.getBoundingClientRect().bottom-h,m=t.querySelectorAll(".game-single");if(m.length===0)return!1;let e=0;return m.forEach(u=>{e+=u.getBoundingClientRect().height}),this.itWasDuplicated&&(e=e/2),e+20>i},async getSettings(){await axios.get("/api/settings/"+this.id).then(t=>{this.settings=t.data.settings}).catch(t=>{console.log(t)})},async getLatestList(){await axios.get("/api/bonus-list/"+this.id).then(t=>{this.bonusList=t.data.bonusList,this.bonusListGames=t.data.bonusListGames}).catch(t=>{console.log(t)})},async updateTheListFromTimeToTime(){setInterval(async()=>{this.isUpdating||(this.isUpdating=!0,await this.getLatestList(),this.isUpdating=!1,this.initAutoScroll())},8e3)},initAutoScroll(){const t=this.$refs.gamesList||this.$refs.gamesListHunt;t&&(this.shouldScroll()?t.classList.add("scrolling"):t.classList.remove("scrolling"))}}},k={key:0,class:"table",ref:"viewport"},M={class:"table-container"},N={class:"header-list"},H={class:"header-list-title"},R=s("span",null,"Bonus",-1),W={class:"img-list"},A={class:"progress"},C={class:"details"},E={class:"details"},O={class:"details"},D={class:"header-details"},F=s("div",{class:"header"},[s("div",{class:"header-content_buy header-content"},[s("div",{class:"text-center"},"#"),s("div",null,"Joc"),s("div",null,"Miză"),s("div",null,"Preț"),s("div",null,"Plată"),s("div",null,"Multi")])],-1),I={class:"scroll-wrapper",ref:"scrollWrapper"},P={class:"games",ref:"gamesList"},U={class:"number_game"},V={class:"name_game"},j={class:"stake"},q=s("div",{class:"header"},[s("div",{class:"header-content_hunt header-content"},[s("div",{class:"text-center"},"#"),s("div",null,"Joc"),s("div",null,"Miză"),s("div",null,"Plată"),s("div",null,"Multi")])],-1),J={class:"scroll-wrapper",ref:"scrollWrapperHunt"},K={class:"games",ref:"gamesListHunt"},Q={class:"number_game"},X={class:"name_game"},Y={class:"stake"};function Z(t,n,a,h,d,i){const m=f("SvgBh");return d.loading?y("",!0):(r(),o("div",k,[s("div",M,[s("div",N,[s("div",H,[R,s("span",W,[L(m)]),s("span",null,l(i.huntOrBuy),1)]),s("div",A,[s("div",{class:"progress-bar-fill",style:b({width:i.progressPercentage+"%"})},null,4),s("div",C,[c(" DESCHISE"),s("span",null,l(i.gamesOpenedNr),1)]),s("div",E,[c(" TOTAL"),s("span",null,l(i.gamesTotalNr),1)]),s("div",O,[c(" RĂMASE"),s("span",null,l(i.gamesRemainingNr),1)])]),s("div",D,[s("div",null,[c("Avg (x)"),s("span",null,l(i.averageMulti),1)]),s("div",null,[c("Top (x)"),s("span",null,l(i.gameHighestMulti),1)]),s("div",null,[c("Cost"),s("span",null,l(d.bonusList.start)+" lei",1)]),s("div",null,[c("Rezultat"),s("span",null,l(d.bonusList.result)+" lei",1)])])]),i.huntOrBuy==="Buy"?(r(),o(g,{key:0},[F,s("div",I,[s("div",P,[(r(!0),o(g,null,_(i.duplicatedGames,(e,u)=>(r(),o("div",{key:"a-"+u,class:p(["game-single row-game_buy",{current:i.firstEmptyResultId===e.id}])},[s("div",U,l(u%d.bonusListGames.length+1),1),s("div",V,l(e.name),1),s("div",j,l(e.stake),1),s("div",null,l(e.result==="0"||e.result==null?"":e.result),1),s("div",null,l(e.multiplier==="0"||e.multiplier==null?"":"x"+e.multiplier),1)],2))),128))],512)],512)],64)):(r(),o(g,{key:1},[q,s("div",J,[s("div",K,[(r(!0),o(g,null,_(i.duplicatedGames,(e,u)=>(r(),o("div",{key:"b-"+u,class:p(["game-single row-game_hunt",{current:i.firstEmptyResultId===e.id}])},[s("div",Q,l(u%d.bonusListGames.length+1),1),s("div",X,l(e.name),1),s("div",Y,l(e.stake),1),s("div",null,l(e.result==="0"||e.result==null?"":e.result),1),s("div",null,l(e.multiplier==="0"||e.multiplier==null?"":"x"+e.multiplier),1)],2))),128))],512)],512)],64))])],512))}const ts=v(T,[["render",Z]]);export{ts as default};
