import{_}from"./_plugin-vue_export-helper-c27b6911.js";import{c as a,b as t,F as u,E as g,t as n,k as p,I as x,o,n as f}from"./app-24ee4374.js";const b={props:{latestBattle:{type:Object,required:!0}},data(){return{isDragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,scale:1}},methods:{getScores(r,e){return r.filter(c=>c.participant_id===e)},startDrag(r){this.isDragging=!0,this.startX=r.clientX-this.offsetX,this.startY=r.clientY-this.offsetY},onDrag(r){this.isDragging&&(this.offsetX=r.clientX-this.startX,this.offsetY=r.clientY-this.startY)},endDrag(){this.isDragging=!1},zoom(r){r.preventDefault();const e=r.deltaY*-.001;this.scale=Math.min(Math.max(this.scale+e,.5),2)},getGameThumbnail(r){return r?`/storage/games/${r}`:""}}},w={class:"flex flex-col items-center gap-4"},v={class:"text-lg font-bold mb-2"},y={class:"flex gap-4 relative"},D={class:"flex items-center justify-center gap-2 backdrop-blur-xl bg-white/10 shadow-lg shadow-black/40 border border-white/20 p-2 rounded-lg"},B={class:"flex flex-col justify-center items-center"},S={class:"text-sm font-bold"},T=["src"],M={class:"border-r border-white p-1"},Y={class:"border-r border-white p-1"},A={class:"p-1"},X={class:"flex flex-col justify-center items-center"},E={class:"text-sm font-bold"},C=["src"],F={class:"border-r border-white p-1"},z={class:"border-r border-white p-1"},G={class:"p-1"},O={key:0,class:"mt-8 text-center font-bold text-xl text-yellow-500"};function j(r,e,c,I,m,l){return o(),a("div",{class:"relative w-full h-full overflow-hidden",onMousedown:e[0]||(e[0]=(...i)=>l.startDrag&&l.startDrag(...i)),onMousemove:e[1]||(e[1]=(...i)=>l.onDrag&&l.onDrag(...i)),onMouseup:e[2]||(e[2]=(...i)=>l.endDrag&&l.endDrag(...i)),onMouseleave:e[3]||(e[3]=(...i)=>l.endDrag&&l.endDrag(...i)),onWheel:e[4]||(e[4]=(...i)=>l.zoom&&l.zoom(...i))},[t("div",{class:"transform origin-top-left",style:x({transform:`scale(${m.scale}) translate(${m.offsetX}px, ${m.offsetY}px)`}),ref:"tournamentContainer"},[t("div",w,[(o(!0),a(u,null,g(c.latestBattle.stages,(i,R)=>(o(),a("div",{key:i.id,class:"flex flex-col items-center relative"},[t("h3",v,n(i.name),1),t("div",y,[(o(!0),a(u,null,g(i.brackets,(s,U)=>(o(),a("div",{key:s.id,class:"flex flex-col items-center relative"},[t("div",D,[t("div",{class:f(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantA.id}])},[t("div",B,[t("div",S,n(s.participantA.game),1),t("div",null,[t("img",{src:l.getGameThumbnail(s.participantA.full_game.image),alt:"GAME THUMB",class:"h-24 rounded-lg"},null,8,T)])]),t("table",{class:f(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantA.id}])},[e[5]||(e[5]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(o(!0),a(u,null,g(l.getScores(s.scores,s.participantA.id),(d,h)=>(o(),a("tr",{key:"a-score-"+h},[t("td",M,n(d.cost),1),t("td",Y,n(d.result),1),t("td",A,n(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2),e[7]||(e[7]=t("div",{class:"font-bold text-orange-500"},"VS",-1)),t("div",{class:f(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantB.id}])},[t("div",X,[t("div",E,n(s.participantB.game),1),t("div",null,[t("img",{src:l.getGameThumbnail(s.participantB.full_game.image),alt:"GAME THUMB",class:"h-24 rounded-lg"},null,8,C)])]),t("table",{class:f(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantB.id}])},[e[6]||(e[6]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(o(!0),a(u,null,g(l.getScores(s.scores,s.participantB.id),(d,h)=>(o(),a("tr",{key:"b-score-"+h},[t("td",F,n(d.cost),1),t("td",z,n(d.result),1),t("td",G,n(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2)])]))),128))])]))),128)),c.latestBattle.summary.winning_game!=="N/A"?(o(),a("div",O,"🏆 Winner: "+n(c.latestBattle.summary.winning_game)+" 🏆 ",1)):p("",!0)])],4)],32)}const H=_(b,[["render",j],["__scopeId","data-v-9979c773"]]);export{H as default};
