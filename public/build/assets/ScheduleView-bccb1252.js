import{S as _}from"./SvgBh-e6bcdd4d.js";import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{e as t,a as s,F as u,h as g,f as m,o as r,n as y,t as h}from"./app-7f970d7d.js";const f={components:{SvgBh:_},props:["id"],data(){return{loading:!0,weeklySchedules:[],groupedDays:[]}},async mounted(){await this.fetchWeeklySchedules(),this.loading=!1,this.groupDaysIntoRows()},methods:{async fetchWeeklySchedules(){try{const e=await axios.get(`/api/schedule/weekly/${this.id}`);this.weeklySchedules=e.data}catch(e){console.error("Error fetching weekly schedules:",e)}},formatDayName(e){const a=["Duminică","Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă"],o=new Date(e).getDay();return a[o]},isCurrentDay(e){const a=new Date().toISOString().split("T")[0];return e===a},groupDaysIntoRows(){const e=this.weeklySchedules.flatMap(o=>o.days),a=[];for(let o=0;o<e.length;o+=4)a.push(e.slice(o,o+4));this.groupedDays=a}}},w={key:0,class:"schedule-weekly-container flex gap-6 bg-transparent p-4 rounded-lg shadow-lg"},b={class:"weekly-table w-1/2"},k={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},x={class:"mt-4 space-y-2"},D={class:"text-lg font-bold"},v={class:"text-lg"},S={key:1,class:"text-gray-400"},C={class:"program-table w-1/2"},F={class:"w-full text-sm text-gray-200 border-collapse"},N={class:"font-bold text-lg mb-1"},I={class:"text-sm"};function V(e,a,o,B,c,d){return c.loading?m("",!0):(r(),t("div",w,[s("div",b,[c.weeklySchedules.length?(r(),t("div",k,[(r(!0),t(u,null,g(c.weeklySchedules,i=>(r(),t("div",{key:i.id,class:"schedule-card bg-gray-900 p-4 rounded-lg shadow-md border border-gray-700"},[a[0]||(a[0]=s("h3",{class:"text-md font-semibold text-gray-200"},"Program",-1)),s("ul",x,[(r(!0),t(u,null,g(i.days,l=>(r(),t("li",{key:l.id,class:y(["flex justify-between items-center p-2 rounded shadow-sm border border-gray-600",{"bg-[#FFC400] text-gray-900":d.isCurrentDay(l.date),"opacity-50 line-through text-white":!l.active,"bg-gray-800":!d.isCurrentDay(l.date)}])},[s("span",D,h(d.formatDayName(l.date)),1),s("span",v,h(l.info),1)],2))),128))])]))),128))])):(r(),t("p",S,"No schedules for this week."))]),s("div",C,[s("table",F,[s("tbody",null,[(r(!0),t(u,null,g(c.groupedDays,(i,l)=>(r(),t("tr",{key:l},[(r(!0),t(u,null,g(i,n=>(r(),t("td",{key:n.id,class:"p-1 border border-transparent"},[s("div",{class:y([{"bg-[#FFC400] text-gray-900":d.isCurrentDay(n.date),"bg-gray-800 opacity-75 line-through":!n.active,"bg-gray-900":n.active&&!d.isCurrentDay(n.date)},"p-2 rounded-lg shadow-md text-left"])},[s("div",N,h(d.formatDayName(n.date)),1),s("div",I,h(n.info),1)],2)]))),128))]))),128))])])])]))}const R=p(f,[["render",V],["__scopeId","data-v-02a6a105"]]);export{R as default};
