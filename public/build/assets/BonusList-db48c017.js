import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import{o as r,e as o,a as t,N as f,b as L,t as i,g as m,O as b,F as _,h as g,f as y,n as p}from"./app-bd76435f.js";const w={},x={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",width:"50",height:"50",x:"0",y:"0",viewBox:"0 0 365.725 365.725",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""},z=t("g",null,[t("path",{d:"M357.29 315.48c-.11-.111-.22-.222-.331-.331l-14.08-13.76-25.68-25.84-19.04-19.04 16.88-16.88a8 8 0 0 0 0-11.28l-18.24-18.24a8 8 0 0 0-11.28 0l-6.56 6.56-26.96-30.16 106.88-95.68a8.002 8.002 0 0 0 2.64-5.6l3.84-76.72a8 8 0 0 0-2.32-6.08 8 8 0 0 0-6.08-2.32l-76.72 3.76a8.002 8.002 0 0 0-5.6 2.64l-91.76 102.88L90.959 6.748a8.002 8.002 0 0 0-5.6-2.64L8.639.348a8 8 0 0 0-6.08 2.32 8 8 0 0 0-2.32 6.08l3.84 76.72a8.002 8.002 0 0 0 2.64 5.6l107.04 96-26.88 29.68-6.56-6.56a8 8 0 0 0-11.28 0l-18.24 18.24a8 8 0 0 0 0 11.28l16.88 16.88-19.12 18.96-40 40c-11.443 11.488-11.407 30.078.081 41.521a29.365 29.365 0 0 0 20.639 8.559 29.122 29.122 0 0 0 20.72-8.56l58.72-58.72 16.88 16.88a8 8 0 0 0 11.28 0l18.24-18.24a8 8 0 0 0 0-11.28l-6.24-6.96 34-30.32 34 30.32-6.56 6.56a8 8 0 0 0 0 11.28l18.24 18.24a8 8 0 0 0 11.28 0l16.88-16.88 19.04 19.04 25.76 25.76 13.92 13.92c11.374 11.557 29.963 11.705 41.52.331 11.557-11.373 11.705-29.963.331-41.519zm-89.851-87.452-14.08 14.08-30.08-30.08 16.56-14.8 27.6 30.8zm-248-146.96-3.2-64.56 64.56 3.2 90.88 101.6-18.56 20.72-33.6-33.6a8 8 0 0 0-11.28 11.28l34.64 34.32-18.4 20.72-105.04-93.68zm19.12 264a13.28 13.28 0 0 1-9.44 3.92c-7.358-.546-12.881-6.954-12.334-14.312a13.361 13.361 0 0 1 3.374-7.928l8-8 18.72 18.48-8.32 7.84zm19.52-19.52-18.4-18.48 14.48-14.48 18.88 18.88-14.96 14.08zm25.84-25.84-18.88-18.88 13.84-12.96 18.88 18.88-13.84 12.96zm47.2-2.16-16.8-16.8-30.16-30.16-16.48-16.56 6.88-6.88 64 64-7.44 6.4zm6-30.48-14.08-14.08 133.6-133.6a8 8 0 1 0-11.28-11.28l-133.6 133.6-14.08-14.08 32.8-36.64 154.08-171.2 64.56-3.2-3.2 64.56-110.56 98.8-98.24 87.12zm57.28-29.84 17.2-14.48 30.64 30.64-14.08 14.08-33.76-30.24zm56 43.44-16.24 17.28-6.88-6.88 64-64 6.88 6.88-16.88 16.88-30.88 29.84zm16.96 5.68 19.52-18.48 13.36 13.36-18.88 18.88-14-13.76zm39.2 39.2-14.48-14.48 18.88-18.88 14.48 14.48-18.88 18.88zm39.04 19.92-.64-.4c-5.285 5.039-13.595 5.039-18.88 0l-8-8 19.28-18.32 8 8c5.17 5.131 5.276 13.458.24 18.72z",fill:"#000000","data-original":"#000000"})],-1),B=[z];function G(s,l){return r(),o("svg",x,B)}const S=v(w,[["render",G]]);const N={components:{SvgBh:S},props:["id"],data(){return{loading:!0,bonusList:[],bonusListGames:[],settings:null,isUpdating:!1,scrollSpeed:500,itWasDuplicated:!0}},computed:{startAmount(){return this.bonusList.start??0},huntOrBuy(){var s;return((s=this.settings)==null?void 0:s.bonus_list)==="buy"?"Buy":"Hunt"},duplicatedGames(){return this.shouldScroll()?(this.itWasDuplicated=!0,[...this.bonusListGames,...this.bonusListGames]):(this.itWasDuplicated=!1,this.bonusListGames)},firstEmptyResultId(){const s=this.bonusListGames.find(l=>l.result==="0");return s?s.id:null},gamesOpenedNr(){return this.bonusListGames.filter(s=>s.result&&s.result!=="0").length},gamesTotalNr(){return this.bonusListGames.length},gamesRemainingNr(){return this.bonusListGames.filter(s=>!s.result||s.result==="0").length},gameHighestMulti(){const s=this.bonusListGames.map(l=>l!=null&&l.multiplier?parseFloat(l.multiplier.trim()):NaN).filter(l=>!isNaN(l));return s.length?Math.max(...s):0},progressPercentage(){return this.gamesOpenedNr/this.gamesTotalNr*100},averageMulti(){const s=this.bonusListGames.filter(a=>a.result!==null&&a.result!=="0");if(s.length===0)return 0;const l=s.reduce((a,d)=>a+parseFloat(d.multiplier),0);return Math.round(l/s.length)}},async mounted(){await this.getSettings(),await this.getLatestList(),this.loading=!1,await this.$nextTick(()=>{this.initAutoScroll(this.$refs.scrollWrapper),this.initAutoScroll(this.$refs.scrollWrapperHunt)}),await this.updateTheListFromTimeToTime()},methods:{shouldScroll(){const s=this.$refs.scrollWrapper||this.$refs.scrollWrapperHunt,l=this.$refs.viewport;if(!s||!l)return!1;const a=document.querySelector(".header-list"),d=a?a.getBoundingClientRect().height:0,n=l.getBoundingClientRect().bottom-d,h=s.querySelectorAll(".game-single");if(h.length===0)return!1;let e=0;return h.forEach(u=>{e+=u.getBoundingClientRect().height}),this.itWasDuplicated&&(e=e/2),e+20>n},async getSettings(){await axios.get("/api/settings/"+this.id).then(s=>{this.settings=s.data.settings}).catch(s=>{console.log(s)})},async getLatestList(){await axios.get("/api/bonus-list/"+this.id).then(s=>{this.bonusList=s.data.bonusList,this.bonusListGames=s.data.bonusListGames}).catch(s=>{console.log(s)})},async updateTheListFromTimeToTime(){setInterval(async()=>{this.isUpdating||(this.isUpdating=!0,await this.getLatestList(),this.isUpdating=!1,this.initAutoScroll())},8e3)},initAutoScroll(){const s=this.$refs.gamesList||this.$refs.gamesListHunt;s&&(this.shouldScroll()?s.classList.add("scrolling"):s.classList.remove("scrolling"))}}},k={key:0,class:"table",ref:"viewport"},T={class:"table-container"},M={class:"header-list"},H={class:"header-list-title"},R={class:"img-list"},W=t("span",null,"Bonus",-1),A={class:"bonus-details"},C={class:"list-cost"},O={class:"list-opened"},F={class:"details"},D={class:"details"},E={class:"progress"},I={class:"header-details"},P=t("div",{class:"header"},[t("div",{class:"header-content_buy header-content"},[t("div",{class:"text-center"},"#"),t("div",null,"Joc"),t("div",null,"Miză"),t("div",null,"Preț"),t("div",null,"Plată"),t("div",null,"Multi")])],-1),U={class:"scroll-wrapper",ref:"scrollWrapper"},V={class:"games",ref:"gamesList"},j={class:"number_game"},q={class:"name_game"},J={class:"stake"},$=t("div",{class:"header"},[t("div",{class:"header-content_hunt header-content"},[t("div",{class:"text-center"},"#"),t("div",null,"Joc"),t("div",null,"Miză"),t("div",null,"Plată"),t("div",null,"Multi")])],-1),K={class:"scroll-wrapper",ref:"scrollWrapperHunt"},Q={class:"games",ref:"gamesListHunt"},X={class:"number_game"},Y={class:"name_game"},Z={class:"stake"};function tt(s,l,a,d,c,n){const h=f("SvgBh");return c.loading?y("",!0):(r(),o("div",k,[t("div",T,[t("div",M,[t("div",H,[t("span",R,[L(h)]),W,t("span",null,i(n.huntOrBuy),1),t("div",A,[t("div",C,[m("Cost "),t("span",null,i(n.startAmount)+" lei",1)]),t("div",O,[t("div",F,[t("span",null,i(n.gamesOpenedNr)+"/",1)]),t("div",D,[t("span",null,i(n.gamesTotalNr),1)])])])]),t("div",E,[t("div",{class:"progress-bar-fill",style:b({width:n.progressPercentage+"%"})},null,4)]),t("div",I,[t("div",null,[m("Avg (x)"),t("span",null,i(n.averageMulti),1)]),t("div",null,[m("Top (x)"),t("span",null,i(n.gameHighestMulti),1)]),t("div",null,[m("Rezultat"),t("span",null,i(c.bonusList.result)+" lei",1)])])]),n.huntOrBuy==="Buy"?(r(),o(_,{key:0},[P,t("div",U,[t("div",V,[(r(!0),o(_,null,g(n.duplicatedGames,(e,u)=>(r(),o("div",{key:"a-"+u,class:p(["game-single row-game_buy",{current:n.firstEmptyResultId===e.id}])},[t("div",j,i(u%c.bonusListGames.length+1),1),t("div",q,i(e.name),1),t("div",J,i(e.stake),1),t("div",null,i(e.result==="0"||e.result==null?"":e.result),1),t("div",null,i(e.multiplier==="0"||e.multiplier==null?"":"x"+e.multiplier),1)],2))),128))],512)],512)],64)):(r(),o(_,{key:1},[$,t("div",K,[t("div",Q,[(r(!0),o(_,null,g(n.duplicatedGames,(e,u)=>(r(),o("div",{key:"b-"+u,class:p(["game-single row-game_hunt",{current:n.firstEmptyResultId===e.id}])},[t("div",X,i(u%c.bonusListGames.length+1),1),t("div",Y,i(e.name),1),t("div",Z,i(e.stake),1),t("div",null,i(e.result==="0"||e.result==null?"":e.result),1),t("div",null,i(e.multiplier==="0"||e.multiplier==null?"":"x"+e.multiplier),1)],2))),128))],512)],512)],64))])],512))}const it=v(N,[["render",tt]]);export{it as default};
