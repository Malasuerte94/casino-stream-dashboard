import{_ as k}from"./ViewerDash-26a30852.js";import{_ as V}from"./TextInput-37a4feff.js";import{_ as D}from"./InputLabel-80fe4480.js";import{_ as B}from"./PrimaryButton-6b092726.js";import{a as C}from"./DialogModal-3b4cfa4d.js";import{D as w,N as u,c as I,w as m,o as a,a as s,b as o,k as E,a7 as L,e as d,h as g,t as i,F as f,n as N,g as p}from"./app-169866e0.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-0c8f3b36.js";const z={components:{ViewerDash:k,TextInput:V,InputLabel:D,PrimaryButton:B,DialogModal:C},data(){return{message:"",show:!1,estimated:"0",biggest_multi:"0",lowest_multi:"0",game_winner:"",entries:[]}},props:{list:Object,games:Object,type:String,is_open:Boolean},async mounted(){await this.getEntries(),this.startRefreshing()},beforeDestroy(){this.stopRefreshing()},methods:{async addEntry(){await w.post("/api/add-entry",{estimated_result:this.estimated,game_winner:this.game_winner,lowest_multi:this.lowest_multi,biggest_multi:this.biggest_multi,bonus_id:this.list.id,bonus_type:this.type}).then(n=>{this.message=n}).catch(n=>{this.message=n})},async getEntries(){await w.get("/api/show-entries/"+this.list.id+"/"+this.type).then(n=>{this.entries=n.data})},startRefreshing(){this.refreshInterval=setInterval(()=>{this.getEntries()},1e4)},stopRefreshing(){clearInterval(this.refreshInterval)}},computed:{bonusList(){return this.list.data}},watch:{message(){this.show=!0}}},M={class:"py-12 max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"flex lg:flex-row flex-col gap-2"},S={class:"lg:w-1/3 w-full mx-auto sm:px-2 lg:px-2"},T={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},U={class:"p-6"},j={class:"mb-2"},q={class:"mb-4"},O={class:"mb-4"},F={class:"mb-4"},X=["value"],G=["disabled"],A={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},H={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},J={class:"p-6"},K={class:"font-bold text-red-800 mr-4"},Q={class:"font-bold text-green-800 mr-4"},W={class:"p-6"},Y={class:"lg:w-1/2 w-full mx-auto sm:px-2 lg:px-2"},Z={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},$={class:"p-6"},ss={class:"flex items-center gap-2"},ts=["src"];function es(n,e,r,ls,l,b){const _=u("InputLabel"),c=u("TextInput"),h=u("PrimaryButton"),x=u("DialogModal"),v=u("ViewerDash");return a(),I(v,{title:"Bonuses"},{default:m(()=>[s("div",M,[s("div",P,[s("div",S,[s("div",T,[s("div",U,[s("div",j,[o(_,{for:"estimated",value:"Cât plătește lista?"}),o(c,{id:"estimated",modelValue:l.estimated,"onUpdate:modelValue":e[0]||(e[0]=t=>l.estimated=t),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",q,[o(_,{for:"lowest-multi",value:"Cel mai mic multiplicator?"}),o(c,{id:"estimated",modelValue:l.lowest_multi,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lowest_multi=t),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",O,[o(_,{for:"biggest-multi",value:"Cel mai mare multiplicator?"}),o(c,{id:"biggest-multi",modelValue:l.biggest_multi,"onUpdate:modelValue":e[2]||(e[2]=t=>l.biggest_multi=t),type:"number",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"])]),s("div",F,[o(_,{for:"game-winner",value:"Care joc crezi că plătește cel mai mult (x)?"}),E(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.game_winner=t),id:"game-winner",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(a(!0),d(f,null,g(r.games,t=>(a(),d("option",{key:t.id,value:t.id},i(t.name),9,X))),128))],512),[[L,l.game_winner]])]),s("button",{onClick:e[4]||(e[4]=(...t)=>b.addEntry&&b.addEntry(...t)),class:N(["mt-2 w-full btn-primary",{"opacity-25":!r.is_open}]),disabled:!r.is_open}," Participă ",10,G)])])]),s("div",A,[s("div",H,[s("div",J,[e[6]||(e[6]=s("div",{class:"mb-2"},"Despre Lista",-1)),s("span",K,"Cost: "+i(r.list.start??0),1),s("span",Q,"Rezultat: "+i(r.list.result??0),1)]),s("div",W,[e[7]||(e[7]=s("div",{class:"grid grid-cols-[20px_1fr_30px] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Miză")],-1)),(a(!0),d(f,null,g(r.games,(t,y)=>(a(),d("div",{class:"grid grid-cols-[20px_1fr_30px] gap-2 border-solid border-b-[1px]",key:"a-"+t.id},[s("span",null,i(t.id),1),s("span",null,i(t.name),1),s("span",null,i(t.stake),1)]))),128))])])]),s("div",Y,[s("div",Z,[s("div",$,[e[8]||(e[8]=p(" Participanți ")),e[9]||(e[9]=s("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2 mb-2 font-bold border-b-gray-800 border-b-[1px]"},[s("span",null,"#"),s("span",null,"Nume"),s("span",null,"Rezultat"),s("span",null,"Big X"),s("span",null,"Small X")],-1)),(a(!0),d(f,null,g(l.entries,(t,y)=>(a(),d("div",{class:"grid grid-cols-[10px_1fr_1fr_1fr_1fr] gap-2 border-solid border-b-[1px] small-font",key:"a-"+t.id},[s("span",null,i(t.id),1),s("span",ss,[s("img",{class:"avatar-entry",src:t.avatar,alt:""},null,8,ts),p(i(t.user),1)]),s("span",null,i(t.result),1),s("span",null,i(t.biggest_multi??"-"),1),s("span",null,i(t.lowest_multi??"-"),1)]))),128))])])])])]),o(x,{show:l.show},{title:m(()=>e[10]||(e[10]=[p(" Notificare ")])),content:m(()=>[p(i(l.message.data),1)]),footer:m(()=>[o(h,{onClick:e[5]||(e[5]=t=>l.show=!l.show)},{default:m(()=>e[11]||(e[11]=[p(" Ok ")])),_:1})]),_:1},8,["show"])]),_:1})}const ps=R(z,[["render",es]]);export{ps as default};
