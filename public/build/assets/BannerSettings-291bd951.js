import{p as i,c as r,b as e,h as u,V as g,F as c,E as m,k as h,o,t as d}from"./app-d57d0c87.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";const f={data(){return{loading:!0,banner:{file:null,name:""},banners:[],bannerProfile:{file:null,name:"",url:""},bannerAds:[]}},async mounted(){await this.getBanners(),await this.getBannerAds(),this.loading=!1},methods:{async getBanners(){await i.get("/api/banner").then(n=>{this.banners=n.data.banners}).catch(n=>{console.log(n)})},async getBannerAds(){await i.get("/api/banner-ads").then(n=>{this.bannerAds=n.data.bannerAds}).catch(n=>{console.log(n)})},async uploadBanner(){this.loading=!0;let n=new FormData;n.append("name",this.banner.name),n.append("image",this.banner.file),await i.post("/api/banner",n,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.getBanners()}).catch(t=>{console.log(t)}),this.loading=!1},async uploadBannerAd(){this.loading=!0;let n=new FormData;n.append("name",this.bannerProfile.name),n.append("image",this.bannerProfile.file),n.append("url",this.bannerProfile.url),await i.post("/api/banner-ads",n,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{this.getBannerAds()}).catch(t=>{console.log(t)}),this.loading=!1},async removeBanner(n){this.loading=!0,await i.delete(`/api/banner/${n}`).catch(t=>{console.log(t)}),await this.getBanners(),this.loading=!1},async removeBannerAd(n){this.loading=!0,await i.delete(`/api/banner-ads/${n}`).catch(t=>{console.log(t)}),await this.getBannerAds(),this.loading=!1},handleFileUpload(n,t){this[n].file=t.target.files[0]}}},x={class:"p-6"},_={class:"flex flex-wrap gap-2 items-center"},B={key:0,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-6"},w={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},k={class:"p-2"},v={class:"p-2"},A={class:"p-2"},C=["src"],D={class:"p-2"},U=["onClick"],F={class:"flex flex-wrap gap-2 items-center"},I={key:1,class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-6"},N={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},V={class:"p-2"},P={class:"p-2"},L={class:"p-2"},S=["src"],T={class:"p-2"},E=["href"],R={class:"p-2 text-center"},M={class:"p-2"},j=["onClick"];function q(n,t,z,G,s,l){return o(),r("div",x,[t[9]||(t[9]=e("h2",{class:"text-xl font-bold mb-4"},"Bannere",-1)),e("div",_,[e("input",{type:"file",onChange:t[0]||(t[0]=a=>l.handleFileUpload("banner",a)),class:"input-primary"},null,32),u(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=a=>s.banner.name=a),class:"input-primary",placeholder:"Nume banner"},null,512),[[g,s.banner.name]]),e("button",{onClick:t[2]||(t[2]=(...a)=>l.uploadBanner&&l.uploadBanner(...a)),type:"button",class:"btn-primary"}," Adauga ")]),s.banners.length>0?(o(),r("div",B,[e("table",w,[t[7]||(t[7]=e("thead",{class:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"p-2"},"ID"),e("th",{class:"p-2"},"Nume"),e("th",{class:"p-2"},"Imagine"),e("th",{class:"p-2"})])],-1)),e("tbody",null,[(o(!0),r(c,null,m(s.banners,(a,p)=>(o(),r("tr",{key:a.id+p,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("td",k,d(a.id),1),e("td",v,d(a.name),1),e("td",A,[e("img",{src:a.image,class:"banner-image h-[130px] w-auto",alt:"Banner Image"},null,8,C)]),e("td",D,[e("button",{onClick:b=>l.removeBanner(a.id),class:"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm p-2.5"}," 🗑️ ",8,U)])]))),128))])])])):h("",!0),t[10]||(t[10]=e("h2",{class:"text-xl font-bold mt-8 mb-4"},"Banner Profile",-1)),e("div",F,[e("input",{type:"file",onChange:t[3]||(t[3]=a=>l.handleFileUpload("bannerProfile",a)),class:"input-primary"},null,32),u(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>s.bannerProfile.name=a),class:"input-primary",placeholder:"Nume banner profil"},null,512),[[g,s.bannerProfile.name]]),u(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>s.bannerProfile.url=a),class:"input-primary",placeholder:"URL"},null,512),[[g,s.bannerProfile.url]]),e("button",{onClick:t[6]||(t[6]=(...a)=>l.uploadBannerAd&&l.uploadBannerAd(...a)),type:"button",class:"btn-primary"}," Adauga Banner Profil ")]),s.bannerAds.length>0?(o(),r("div",I,[e("table",N,[t[8]||(t[8]=e("thead",{class:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{class:"p-2"},"ID"),e("th",{class:"p-2"},"Nume"),e("th",{class:"p-2"},"Imagine"),e("th",{class:"p-2"},"URL"),e("th",{class:"p-2"},"Clickuri"),e("th",{class:"p-2"})])],-1)),e("tbody",null,[(o(!0),r(c,null,m(s.bannerAds,(a,p)=>(o(),r("tr",{key:a.id+p,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[e("td",V,d(a.id),1),e("td",P,d(a.name),1),e("td",L,[e("img",{src:a.image,class:"banner-image h-[130px] w-auto",alt:"Banner Image"},null,8,S)]),e("td",T,[e("a",{href:a.url,target:"_blank",class:"text-blue-500 hover:underline"},d(a.url),9,E)]),e("td",R,d(a.clicks),1),e("td",M,[e("button",{onClick:b=>l.removeBannerAd(a.id),class:"text-white bg-red-700 hover:bg-red-800 font-medium rounded-lg text-sm p-2.5"}," 🗑️ ",8,j)])]))),128))])])])):h("",!0)])}const K=y(f,[["render",q]]);export{K as default};
