import{p as c,q as a,c as u,b as e,a as o,t as n,n as b,k as d,F as h,h as y,v as p,d as i,w as v,T as f,o as g}from"./app-cafe65d5.js";import{S as C,a as A,b as H,c as N}from"./backward-a13b0bd5.js";import{S as j}from"./stake-site-77caeb93.js";import D from"./BuyHistory-fcf226db.js";import T from"./LatestBuy-204dc497.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import"./multiplier-bbf2ce1d.js";import"./LatestBuyStats-05e636e9.js";import"./target-b751ed1b.js";import"./LatestBuyCurentNext-a9092032.js";import"./forward-63c539a2.js";import"./LatestBuyHighLowX-07cb92a3.js";import"./down-b20991f3.js";import"./LatestBuyHighLowWin-b2ba8c61.js";import"./shit-856e0110.js";import"./LatestBuyGuess-ad081d35.js";import"./MyInput-1355c245.js";import"./LatestBuyGuessers-d70549a2.js";const R={components:{LatestBuy:T,BuyHistory:D,SvgCalendar:C,SvgGame:A,SvgMoney:H,SvgBackward:N,SvgStakeSite:j},data(){return{loading:!0,streamer:{},bonusBuyHistory:[],latestBuy:null,refreshInterval:null,currency:"RON",activeIndex:0,bannerSpot:[]}},props:{streamerId:{type:Number,required:!0}},async mounted(){await this.getData(),this.startAutoScroll()},methods:{async getData(){await this.getBonusBuyHistory(),await this.getSettings(),await this.getBannerAds()},async getBonusBuyHistory(){try{const r=await c.get("/api/viewer/get-bbl-history/"+this.streamerId);this.bonusBuyHistory=r.data.bonusBuys,this.latestBuy=this.bonusBuyHistory[0]}catch(r){console.error("Error fetching bonus buy history:",r)}},async getSettings(){let r="obs_bonus_list";try{const t=await c.get("/api/get-setting-public",{params:{setting_name:r,user_id:this.streamerId}});t.data.setting_value&&(this.currency=JSON.parse(t.data.setting_value).currency)}catch(t){console.error(`Error loading setting "${r}":`,t)}},async getBannerAds(){try{this.loading=!0;const r=await c.get("/api/banners-ads/"+this.streamerId);r.data.bannersAds&&(this.bannerSpot=r.data.bannersAds)}catch(r){console.error(`Error loading setting "${settingName}":`,r)}finally{this.loading=!1}},async registerClick(r){try{await c.post(`/api/banner-ads/${r}/click`)}catch(t){console.error("Error registering click:",t)}},changeLatestBuy(r){this.latestBuy=r},convertDate(r){const t=new Date(r);return new Intl.DateTimeFormat("ro-RO",{day:"2-digit",month:"short",year:"numeric"}).format(t)},startAutoScroll(){setInterval(()=>{this.activeIndex=(this.activeIndex+1)%3},5e3)}}},E={key:0},F={class:"flex flex-col md:flex-row justify-center items-stretch gap-4 mb-4"},M={key:0,class:"gap-2 rounded-lg backdrop-blur-xl p-4 bg-white/10 shadow-lg shadow-black/40 border border-white/20 w-full md:w-1/4 flex flex-col justify-between"},V={class:"flex flex-row justify-between items-center"},O={class:"flex flex-row items-center gap-1"},G={class:"uppercase"},q={class:"flex flex-row justify-between items-center font-bold text-xl"},P={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},z={class:"flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded-lg"},J={class:"flex flex-row items-center justify-between gap-1 text-sm"},U={class:"flex flex-row items-center gap-1"},K=["href"],Q=["src","alt"],W=["href"],X=["src","alt"],Y={href:"https://stake.com/?tab=register&modal=auth&c=4cb4a7ab68",target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 h-[130px] flex group bg-[url(/storage/assets/images/dog-bg.jpg)] bg-center bg-no-repeat bg-cover"},Z={class:"absolute inset-0 bg-black/40 backdrop-blur-sm opacity-100 transition-all duration-300 p-4 flex items-center justify-center"},$={class:"absolute top-0 mr-auto"},ee={class:"w-full text-center relative mt-14"},te={class:"fade-slide"},se={class:"fade-slide"},re={class:"fade-slide"};function oe(r,t,ne,ae,s,l){const _=a("SvgBackward"),x=a("SvgGame"),m=a("SvgMoney"),w=a("SvgCalendar"),B=a("SvgStakeSite"),S=a("LatestBuy"),k=a("BuyHistory");return s.loading?d("",!0):(g(),u("div",E,[e("div",F,[s.bonusBuyHistory.length>0?(g(),u("div",M,[e("div",V,[e("div",O,[e("div",null,[o(_,{class:"h-5 w-5 text-white stroke-current"})]),e("div",G,n(r.$t("latest_buy")),1)]),e("div",{class:b(["bg-gray-800 px-2 py-1 rounded-lg text-xs font-bold",{"text-gray-500":s.latestBuy.ended,"text-green-500":!s.latestBuy.ended}])},n(s.latestBuy.ended?"TERMINAT":"ACTIV"),3)]),e("div",q,[e("div",P,[e("div",null,[o(x,{class:"h-5 w-5 text-indigo-500 fill-current"})]),e("div",null,n(s.latestBuy.bonus_buy_games.length),1)]),e("div",z,[e("div",null,[o(m,{class:"h-5 w-5 text-green-500"})]),e("div",null,n(s.latestBuy.start)+" "+n(s.currency),1)])]),e("div",J,[e("div",U,[e("div",null,[o(w,{class:"w-4 h-4 text-gray-500 stroke-current"})]),e("div",null,n(l.convertDate(s.latestBuy.created_at)),1)]),e("div",{class:b(["flex flex-row items-center gap-1 bg-gray-700 px-2 py-1 rounded",{"text-green-500":parseFloat(s.latestBuy.result)>=parseFloat(s.latestBuy.start),"text-red-500":parseFloat(s.latestBuy.result)<=parseFloat(s.latestBuy.start)}])},[e("div",null,[o(m,{class:"h-4 w-4"})]),e("div",null,n(s.latestBuy.result)+" "+n(s.currency),1)],2)])])):d("",!0),this.bannerSpot.length>=2?(g(),u(h,{key:1},[e("a",{href:this.bannerSpot[0].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:t[0]||(t[0]=I=>l.registerClick(this.bannerSpot[0].id))},[e("img",{src:this.bannerSpot[0].image,alt:this.bannerSpot[0].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,Q),t[2]||(t[2]=e("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,K),e("a",{href:this.bannerSpot[1].url,target:"_blank",class:"relative rounded-lg overflow-hidden w-full md:w-1/4 flex group",onClick:t[1]||(t[1]=I=>l.registerClick(this.bannerSpot[1].id))},[e("img",{src:this.bannerSpot[1].image,alt:this.bannerSpot[1].name,class:"w-full h-[130px] object-cover transition-all duration-300 group-hover:scale-105"},null,8,X),t[3]||(t[3]=e("div",{class:"absolute inset-0 bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300"},null,-1))],8,W)],64)):d("",!0),e("a",Y,[e("div",Z,[e("div",$,[o(B,{class:"w-20 h-20 animated-pump"})]),e("div",ee,[y(e("div",te,t[4]||(t[4]=[e("div",{class:"bg-gray-800 py-1 px-3 rounded font-bold text-lg inline-block"},"COD: MALA",-1)]),512),[[p,s.activeIndex===0]]),y(e("div",se,t[5]||(t[5]=[e("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Rakeback activ + Bonus "),e("span",{class:"font-bold"},"SĂPTĂMÂNAL"),i(" și "),e("span",{class:"font-bold"},"LUNAR"),i(" din ce ai jucat, fără Rulaj! ")],-1)]),512),[[p,s.activeIndex===1]]),y(e("div",re,t[6]||(t[6]=[e("div",{class:"text-sm text-gray-300 bg-gray-800 py-2 px-1 rounded"},[i(" Cele mai "),e("span",{class:"font-bold"},"MARE RTP"),i(),e("span",{class:"font-bold"},"98% - 99%"),i("! ")],-1)]),512),[[p,s.activeIndex===2]])])])])]),s.bonusBuyHistory.length>0?(g(),u(h,{key:0},[o(f,{name:"fade",mode:"out-in"},{default:v(()=>[o(S,{buyId:s.latestBuy.id,currency:s.currency},null,8,["buyId","currency"])]),_:1}),o(f,{name:"fade",mode:"out-in"},{default:v(()=>[o(k,{onSeeBuy:l.changeLatestBuy,bonusBuyHistory:s.bonusBuyHistory,currency:s.currency},null,8,["onSeeBuy","bonusBuyHistory","currency"])]),_:1})],64)):d("",!0)]))}const ke=L(R,[["render",oe],["__scopeId","data-v-074826c3"]]);export{ke as default};
