import{_ as m}from"./_plugin-vue_export-helper-c27b6911.js";import{c as o,b as t,F as c,E as g,t as i,I as x,o as n,n as u}from"./app-6df4a8a7.js";const b={props:{latestBattle:{type:Object,required:!0}},data(){return{isDragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,scale:1}},methods:{getScores(r,e){return r.filter(f=>f.participant_id===e)},startDrag(r){this.isDragging=!0,this.startX=r.clientX-this.offsetX,this.startY=r.clientY-this.offsetY},onDrag(r){this.isDragging&&(this.offsetX=r.clientX-this.startX,this.offsetY=r.clientY-this.startY)},endDrag(){this.isDragging=!1},zoom(r){r.preventDefault();const e=r.deltaY*-.001;this.scale=Math.min(Math.max(this.scale+e,.5),2)},getLineStyle(r,e){return{height:r<this.latestBattle.stages.length-1?"30px":"0px",top:"50%",left:"50%",transform:"translateX(-50%)"}}}},_={class:"flex flex-col items-center gap-4"},w={class:"text-lg font-bold mb-2"},v={class:"flex gap-4 relative"},D={class:"flex items-center justify-center gap-2 backdrop-blur-xl bg-white/10 shadow-lg shadow-black/40 border border-white/20 p-2 rounded-lg"},y={class:"text-sm font-bold"},B={class:"border-r border-white p-1"},S={class:"border-r border-white p-1"},X={class:"p-1"},Y={class:"text-sm font-bold"},C={class:"border-r border-white p-1"},E={class:"border-r border-white p-1"},F={class:"p-1"},M={class:"mt-8 text-center font-bold text-xl text-yellow-500"};function T(r,e,f,z,h,a){return n(),o("div",{class:"relative w-full h-full overflow-hidden",onMousedown:e[0]||(e[0]=(...l)=>a.startDrag&&a.startDrag(...l)),onMousemove:e[1]||(e[1]=(...l)=>a.onDrag&&a.onDrag(...l)),onMouseup:e[2]||(e[2]=(...l)=>a.endDrag&&a.endDrag(...l)),onMouseleave:e[3]||(e[3]=(...l)=>a.endDrag&&a.endDrag(...l)),onWheel:e[4]||(e[4]=(...l)=>a.zoom&&a.zoom(...l))},[t("div",{class:"transform origin-top-left",style:x({transform:`scale(${h.scale}) translate(${h.offsetX}px, ${h.offsetY}px)`}),ref:"tournamentContainer"},[t("div",_,[(n(!0),o(c,null,g(f.latestBattle.stages,(l,A)=>(n(),o("div",{key:l.id,class:"flex flex-col items-center relative"},[t("h3",w,i(l.name),1),t("div",v,[(n(!0),o(c,null,g(l.brackets,(s,I)=>(n(),o("div",{key:s.id,class:"flex flex-col items-center relative"},[t("div",D,[t("div",{class:u(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantA.id}])},[t("div",y,i(s.participantA.game),1),t("table",{class:u(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantA.id}])},[e[5]||(e[5]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(n(!0),o(c,null,g(a.getScores(s.scores,s.participantA.id),(d,p)=>(n(),o("tr",{key:"a-score-"+p},[t("td",B,i(d.cost),1),t("td",S,i(d.result),1),t("td",X,i(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2),e[7]||(e[7]=t("div",{class:"font-bold text-orange-500"},"VS",-1)),t("div",{class:u(["text-center relative",{"font-bold text-green-500":s.winner.id===s.participantB.id}])},[t("div",Y,i(s.participantB.game),1),t("table",{class:u(["w-full mt-2 text-xs bg-white/10 rounded-md overflow-hidden",{"bg-white/80":s.winner.id===s.participantB.id}])},[e[6]||(e[6]=t("thead",null,[t("tr",{class:"bg-white/20"},[t("th",{class:"border-r border-white p-1"},"COST"),t("th",{class:"border-r border-white p-1"},"RESULT"),t("th",{class:"p-1"},"SCORE")])],-1)),t("tbody",null,[(n(!0),o(c,null,g(a.getScores(s.scores,s.participantB.id),(d,p)=>(n(),o("tr",{key:"b-score-"+p},[t("td",C,i(d.cost),1),t("td",E,i(d.result),1),t("td",F,i(parseFloat(d.score).toFixed(2)),1)]))),128))])],2)],2)])]))),128))])]))),128)),t("div",M,"🏆 Winner: "+i(f.latestBattle.summary.winning_game)+" 🏆",1)])],4)],32)}const R=m(b,[["render",T],["__scopeId","data-v-551330f5"]]);export{R as default};
