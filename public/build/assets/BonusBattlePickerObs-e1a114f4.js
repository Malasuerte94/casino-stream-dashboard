import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{c as a,b as s,F as d,s as c,k as u,o as i,t as o,n as x}from"./app-1bb62c62.js";const g={props:["id"],data(){return{loading:!0,allViewers:[]}},computed:{winners(){return this.allViewers.filter(e=>e.picked&&!e.eliminated)}},async mounted(){await this.getList(),this.loading=!1,window.Echo.channel(`App.Models.User.${this.id}`).listen("BattleViewerUpdated",async()=>{await this.updateList()})},methods:{async getList(){try{const e=await axios.get(`/api/battle-viewers-public/${this.id}`);e.data&&(this.allViewers=e.data),console.log(this.allViewers)}catch(e){console.log(e)}},async updateList(){await this.getList()}}},h={key:0,class:"p-4 text-center"},m={key:0,class:"mb-6 flex flex-col items-center"},f={class:"flex justify-center flex-wrap gap-4"},_={class:"text-xl font-bold"},y={class:"text-sm"},w={class:"flex flex-wrap gap-1 justify-center"},b={key:1,class:"p-4"};function k(e,l,B,V,n,r){return n.loading?(i(),a("div",b,l[2]||(l[2]=[s("p",{class:"text-white text-lg"},"Loading...",-1)]))):(i(),a("div",h,[r.winners.length?(i(),a("div",m,[l[0]||(l[0]=s("h2",{class:"text-3xl font-extrabold text-yellow-400 uppercase mb-2"},"Câștigători",-1)),s("div",f,[(i(!0),a(d,null,c(r.winners,t=>(i(),a("div",{key:t.id,class:"px-4 py-2 bg-yellow-600 text-white rounded-lg shadow-xl transform transition-all hover:scale-105"},[s("p",_,o(t.user),1),s("p",y,o(t.game),1)]))),128))])])):u("",!0),s("div",null,[l[1]||(l[1]=s("h2",{class:"text-xl font-bold text-white bg-gray-800 rounded mb-3 p-2"},"Participanți",-1)),s("div",w,[(i(!0),a(d,null,c(n.allViewers,t=>(i(),a("div",{key:t.id,class:x(["px-2 py-1 rounded shadow-md bg-gray-800 text-white text-sm",{"bg-green-400 font-bold":t.picked&&!t.eliminated,"bg-red-500 font-bold":t.eliminated}])},o(t.user),3))),128))])])]))}const C=p(g,[["render",k]]);export{C as default};
